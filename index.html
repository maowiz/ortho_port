<!DOCTYPE html>

<html lang="en">



<head>

  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Dr. Moaz Saleem â€” Board-Certified Orthopedic Surgeon</title>

  <meta name="description"
    content="Dr. Moaz Saleem is a board-certified orthopedic surgeon specializing in sports medicine, joint replacement, and minimally invasive procedures.">



  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js" defer></script>

  <!-- Preload hints for initial animation frames -->
  <link rel="preload" as="image" href="./seq2/ezgif-frame-001.webp">
  <link rel="preload" as="image" href="./seq2/ezgif-frame-002.webp">
  <link rel="preload" as="image" href="./seq2/ezgif-frame-003.webp">



  <link rel="preconnect" href="https://fonts.googleapis.com">

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;0,800;1,400;1,500&display=swap"
    rel="stylesheet">



  <style>
    :root {

      --primary: #B8860B;

      --primary-light: #D4A842;

      --primary-dark: #8B6914;

      --primary-glow: rgba(184, 134, 11, 0.15);

      --primary-glow-strong: rgba(184, 134, 11, 0.3);



      --secondary: #1A2332;

      --secondary-light: #243447;

      --secondary-dark: #0F1923;



      --accent: #2A9D8F;

      --accent-light: #3DBFAE;



      --bg: #0A0E17;

      --bg-alt: #0F1520;

      --bg-card: rgba(22, 30, 44, 0.8);

      --bg-card-solid: #161E2C;

      --bg-card-hover: rgba(30, 42, 60, 0.9);

      --bg-glass: rgba(15, 21, 32, 0.6);



      --text: #E8ECF1;

      --text-secondary: #8896A7;

      --text-muted: #5A6B7F;

      --text-bright: #FFFFFF;



      --border: rgba(255, 255, 255, 0.08);

      --border-light: rgba(255, 255, 255, 0.04);

      --border-gold: rgba(184, 134, 11, 0.2);



      --success: #10B981;

      --warning: #F59E0B;

      --error: #EF4444;



      --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.3);

      --shadow: 0 8px 24px rgba(0, 0, 0, 0.4);

      --shadow-lg: 0 16px 48px rgba(0, 0, 0, 0.5);

      --shadow-xl: 0 24px 64px rgba(0, 0, 0, 0.6);

      --shadow-gold: 0 8px 32px rgba(184, 134, 11, 0.15);

      --shadow-glow: 0 0 60px rgba(184, 134, 11, 0.1);



      --radius: 16px;

      --radius-sm: 10px;

      --radius-lg: 24px;

      --radius-xl: 32px;

      --radius-full: 9999px;



      --nav-h: 80px;

      --max-w: 1320px;



      --font-sans: 'Inter', system-ui, -apple-system, sans-serif;

      --font-serif: 'Playfair Display', Georgia, serif;



      --ease-out: cubic-bezier(0.16, 1, 0.3, 1);

      --ease-in-out: cubic-bezier(0.65, 0, 0.35, 1);

      --transition: all 0.4s var(--ease-out);

      --transition-fast: all 0.2s var(--ease-out);

      --transition-slow: all 0.6s var(--ease-out);

    }



    *,
    *::before,
    *::after {

      margin: 0;

      padding: 0;

      box-sizing: border-box;

    }



    html {

      scroll-behavior: smooth;

      font-size: 16px;

      overflow-x: hidden;

    }



    body {

      font-family: var(--font-sans);

      color: var(--text);

      background: var(--bg);

      line-height: 1.7;

      overflow-x: hidden;

      -webkit-font-smoothing: antialiased;

      -moz-osx-font-smoothing: grayscale;

    }



    ::selection {

      background: var(--primary);

      color: #fff;

    }



    img {
      max-width: 100%;
      display: block;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    button {
      cursor: pointer;
      border: none;
      background: none;
      font-family: inherit;
    }

    input,
    textarea,
    select {
      font-family: inherit;
      font-size: inherit;
    }



    .container {

      max-width: var(--max-w);

      margin: 0 auto;

      padding: 0 32px;

    }



    /* Scrollbar */

    ::-webkit-scrollbar {
      width: 6px;
    }

    ::-webkit-scrollbar-track {
      background: var(--bg);
    }

    ::-webkit-scrollbar-thumb {

      background: linear-gradient(180deg, var(--primary-dark), var(--primary));

      border-radius: 3px;

    }



    /* ========== PRELOADER ========== */

    #preloader {

      position: fixed;

      inset: 0;

      background: var(--bg);

      z-index: 99999;

      display: flex;

      flex-direction: column;

      align-items: center;

      justify-content: center;

      transition: opacity 0.6s var(--ease-out), visibility 0.6s;

    }



    #preloader.hidden {

      opacity: 0;

      visibility: hidden;

      pointer-events: none;

    }



    .preloader-content {

      text-align: center;

    }



    .preloader-logo {

      width: 80px;

      height: 80px;

      margin: 0 auto 24px;

      position: relative;

    }



    .preloader-ring {

      position: absolute;

      inset: 0;

      border: 2px solid var(--border);

      border-top-color: var(--primary);

      border-radius: 50%;

      animation: preloaderSpin 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;

    }



    .preloader-ring:nth-child(2) {

      inset: 8px;

      border-top-color: var(--primary-light);

      animation-delay: -0.15s;

    }



    .preloader-ring:nth-child(3) {

      inset: 16px;

      border-top-color: var(--accent);

      animation-delay: -0.3s;

    }



    .preloader-initials {

      position: absolute;

      inset: 0;

      display: flex;

      align-items: center;

      justify-content: center;

      font-family: var(--font-serif);

      font-size: 1.2rem;

      font-weight: 700;

      color: var(--primary);

    }



    .preloader-text {

      font-size: 0.75rem;

      letter-spacing: 0.3em;

      text-transform: uppercase;

      color: var(--text-muted);

      font-weight: 500;

    }



    .preloader-bar {

      width: 200px;

      height: 2px;

      background: var(--border);

      border-radius: 1px;

      margin: 16px auto 0;

      overflow: hidden;

    }



    .preloader-bar-fill {

      width: 0%;

      height: 100%;

      background: linear-gradient(90deg, var(--primary), var(--accent));

      border-radius: 1px;

      transition: width 0.4s var(--ease-out);

    }



    @keyframes preloaderSpin {

      to {
        transform: rotate(360deg);
      }

    }







    /* ========== NAVIGATION ========== */

    .nav {

      position: fixed;

      top: 0;

      left: 0;

      right: 0;

      height: var(--nav-h);

      z-index: 1000;

      transition: var(--transition);

    }



    .nav::before {

      content: '';

      position: absolute;

      inset: 0;

      background: rgba(10, 14, 23, 0);

      backdrop-filter: blur(0px);

      -webkit-backdrop-filter: blur(0px);

      transition: var(--transition);

      border-bottom: 1px solid transparent;

    }



    .nav.scrolled::before {

      background: rgba(10, 14, 23, 0.85);

      backdrop-filter: blur(24px) saturate(180%);

      -webkit-backdrop-filter: blur(24px) saturate(180%);

      border-bottom: 1px solid var(--border);

    }



    .nav-inner {

      max-width: var(--max-w);

      margin: 0 auto;

      padding: 0 32px;

      height: 100%;

      display: flex;

      align-items: center;

      justify-content: space-between;

      position: relative;

      z-index: 2;

    }



    .nav-logo {

      display: flex;

      align-items: center;

      gap: 12px;

      font-weight: 700;

      font-size: 1.1rem;

      color: var(--text-bright);

      letter-spacing: -0.01em;

    }



    .logo-icon {

      width: 44px;

      height: 44px;

      background: linear-gradient(135deg, var(--primary), var(--primary-dark));

      border-radius: 12px;

      display: flex;

      align-items: center;

      justify-content: center;

      color: #fff;

      font-size: 1rem;

      font-weight: 800;

      font-family: var(--font-serif);

      box-shadow: var(--shadow-gold);

      position: relative;

      overflow: hidden;

    }



    .logo-icon::after {

      content: '';

      position: absolute;

      inset: 0;

      background: linear-gradient(135deg, transparent, rgba(255, 255, 255, 0.15));

    }



    .nav-links {

      display: flex;

      align-items: center;

      gap: 4px;

    }



    .nav-links a {

      padding: 8px 18px;

      border-radius: var(--radius-full);

      font-size: 0.88rem;

      font-weight: 500;

      color: var(--text-secondary);

      transition: var(--transition-fast);

      position: relative;

      letter-spacing: 0.01em;

    }



    .nav-links a::after {

      content: '';

      position: absolute;

      bottom: 4px;

      left: 50%;

      transform: translateX(-50%) scaleX(0);

      width: 20px;

      height: 2px;

      background: var(--primary);

      border-radius: 1px;

      transition: transform 0.3s var(--ease-out);

    }



    .nav-links a:hover,

    .nav-links a.active {

      color: var(--text-bright);

    }



    .nav-links a:hover::after,

    .nav-links a.active::after {

      transform: translateX(-50%) scaleX(1);

    }



    .nav-cta {

      display: flex;

      align-items: center;

      gap: 16px;

    }



    .nav-phone {

      font-size: 0.85rem;

      color: var(--text-secondary);

      font-weight: 500;

      display: flex;

      align-items: center;

      gap: 8px;

      transition: var(--transition-fast);

    }



    .nav-phone:hover {
      color: var(--primary);
    }



    /* Buttons */

    .btn {

      display: inline-flex;

      align-items: center;

      justify-content: center;

      gap: 8px;

      padding: 13px 30px;

      border-radius: var(--radius-full);

      font-weight: 600;

      font-size: 0.9rem;

      transition: var(--transition);

      white-space: nowrap;

      letter-spacing: 0.01em;

      position: relative;

      overflow: hidden;

    }



    .btn::before {

      content: '';

      position: absolute;

      inset: 0;

      background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), transparent);

      opacity: 0;

      transition: opacity 0.3s;

    }



    .btn:hover::before {
      opacity: 1;
    }



    .btn-primary {

      background: linear-gradient(135deg, var(--primary), var(--primary-dark));

      color: #fff;

      box-shadow: 0 4px 20px rgba(184, 134, 11, 0.3);

    }



    .btn-primary:hover {

      transform: translateY(-2px);

      box-shadow: 0 8px 32px rgba(184, 134, 11, 0.4);

    }



    .btn-primary:active {

      transform: translateY(0);

    }



    .btn-outline {

      border: 1.5px solid var(--primary);

      color: var(--primary);

      background: transparent;

    }



    .btn-outline:hover {

      background: var(--primary);

      color: #fff;

      box-shadow: var(--shadow-gold);

    }



    .btn-ghost {

      color: var(--primary);

      padding: 8px 16px;

    }



    .btn-ghost:hover {

      background: var(--primary-glow);

    }



    .btn-white {

      background: #fff;

      color: var(--secondary-dark);

      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);

    }



    .btn-white:hover {

      transform: translateY(-2px);

      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);

    }



    .btn-sm {
      padding: 10px 22px;
      font-size: 0.85rem;
    }

    .btn-lg {
      padding: 16px 40px;
      font-size: 1rem;
    }



    .mobile-toggle {

      display: none;

      flex-direction: column;

      gap: 5px;

      padding: 8px;

      cursor: pointer;

      z-index: 10;

    }



    .mobile-toggle span {

      width: 24px;

      height: 2px;

      background: var(--text);

      border-radius: 2px;

      transition: var(--transition);

    }



    .mobile-nav {

      display: none;

      position: fixed;

      top: var(--nav-h);

      left: 0;

      right: 0;

      bottom: 0;

      background: rgba(10, 14, 23, 0.98);

      backdrop-filter: blur(24px);

      z-index: 999;

      padding: 32px;

      flex-direction: column;

      gap: 8px;

    }



    .mobile-nav.open {
      display: flex;
    }



    .mobile-nav a {

      padding: 16px 20px;

      border-radius: var(--radius-sm);

      font-size: 1.1rem;

      font-weight: 500;

      color: var(--text-secondary);

      transition: var(--transition);

    }



    .mobile-nav a:hover,

    .mobile-nav a.active {

      background: var(--primary-glow);

      color: var(--primary);

    }


    /* ========== HERO CANVAS AREA ========== */
    #animation-container {
      position: relative;
      background: var(--bg);
      z-index: 10;
    }

    canvas#heroCanvas {
      display: block;
      background: var(--bg);
    }

    .hero-canvas-overlay {
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg,
          rgba(10, 14, 23, 0.1) 0%,
          rgba(10, 14, 23, 0.0) 30%,
          rgba(10, 14, 23, 0.0) 60%,
          rgba(10, 14, 23, 0.7) 100%);
      z-index: 2;
      pointer-events: none;
    }

    .hero-canvas-vignette {
      position: absolute;
      inset: 0;
      background: radial-gradient(ellipse at center, transparent 30%, rgba(10, 14, 23, 0.6) 100%);
      z-index: 1;
      pointer-events: none;
    }

    .hero-text-overlay {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      pointer-events: none;
      z-index: 20;
    }

    .hero-phase {
      position: absolute;
      opacity: 0;
      transform: translateY(30px) scale(0.97);
      transition: all 0.7s var(--ease-out);
      text-align: center;
      max-width: 900px;
      padding: 0 24px;
      will-change: transform, opacity;
    }

    .hero-phase.active {
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    .hero-phase h1 {
      font-family: var(--font-serif);
      font-size: clamp(2.8rem, 6vw, 5.5rem);
      font-weight: 700;
      color: #fff;
      margin-bottom: 1.2rem;
      text-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
      line-height: 1.05;
      letter-spacing: -0.02em;
    }

    .hero-phase p {
      font-size: clamp(1rem, 2vw, 1.4rem);
      color: rgba(255, 255, 255, 0.8);
      font-weight: 300;
      letter-spacing: 0.06em;
      line-height: 1.6;
    }

    .hero-phase .highlight {
      background: linear-gradient(135deg, var(--primary), var(--primary-light));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-weight: 700;
    }

    .hero-phase .hero-badge-inline {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: rgba(255, 255, 255, 0.06);
      backdrop-filter: blur(12px);
      padding: 8px 20px;
      border-radius: var(--radius-full);
      font-size: 0.82rem;
      font-weight: 500;
      margin-bottom: 20px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      color: rgba(255, 255, 255, 0.7);
      font-family: var(--font-sans);
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .hero-phase .hero-badge-inline .pulse-dot {
      width: 8px;
      height: 8px;
      background: var(--accent);
      border-radius: 50%;
      animation: pulseDot 2s ease-in-out infinite;
      box-shadow: 0 0 8px var(--accent);
    }

    .hero-phase .hero-cta-group {
      display: flex;
      gap: 16px;
      justify-content: center;
      margin-top: 32px;
      pointer-events: auto;
    }

    @keyframes pulseDot {

      0%,
      100% {
        opacity: 1;
        transform: scale(1);
      }

      50% {
        opacity: 0.4;
        transform: scale(0.8);
      }
    }

    .hero-scroll {
      position: absolute;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 25;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      color: rgba(255, 255, 255, 0.3);
      font-size: 0.65rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      font-weight: 500;
    }

    .hero-scroll .scroll-mouse {
      width: 24px;
      height: 38px;
      border: 2px solid rgba(255, 255, 255, 0.2);
      border-radius: 12px;
      position: relative;
    }

    .hero-scroll .scroll-mouse::after {
      content: '';
      position: absolute;
      top: 8px;
      left: 50%;
      transform: translateX(-50%);
      width: 3px;
      height: 8px;
      background: var(--primary);
      border-radius: 2px;
      animation: scrollWheel 2s var(--ease-out) infinite;
    }

    @keyframes scrollWheel {
      0% {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
      }

      100% {
        opacity: 0;
        transform: translateX(-50%) translateY(12px);
      }
    }

    .hero-frame-counter {
      position: absolute;
      bottom: 40px;
      left: 32px;
      z-index: 4;
      font-size: 0.65rem;
      color: rgba(255, 255, 255, 0.1);
      font-family: 'Courier New', monospace;
      letter-spacing: 0.05em;
    }

    /* ========== SECTIONS ========== */
    .section {
      padding: 120px 0;
      position: relative;
    }

    .section-alt {
      background: var(--bg-alt);
    }

    .section-warm {
      background: linear-gradient(180deg, var(--bg) 0%, var(--bg-alt) 100%);
    }

    .section-dark {
      background: var(--secondary-dark);
    }

    .section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 100%;
      max-width: 800px;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--border), transparent);
    }

    .section-header {
      text-align: center;
      margin-bottom: 72px;
    }

    .section-label {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: linear-gradient(135deg, var(--primary-glow), rgba(42, 157, 143, 0.08));
      color: var(--primary);
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      padding: 8px 20px;
      border-radius: var(--radius-full);
      margin-bottom: 20px;
      border: 1px solid var(--border-gold);
    }

    .section-label::before {
      content: '';
      width: 6px;
      height: 6px;
      background: var(--primary);
      border-radius: 50%;
    }

    .section-title {
      font-family: var(--font-serif);
      font-size: clamp(2rem, 4vw, 3.2rem);
      color: var(--text-bright);
      margin-bottom: 20px;
      line-height: 1.15;
      letter-spacing: -0.02em;
    }

    .section-desc {
      font-size: 1.08rem;
      color: var(--text-secondary);
      max-width: 640px;
      margin: 0 auto;
      line-height: 1.8;
    }

    /* ========== CARDS ========== */
    .card {
      background: var(--bg-card);
      border-radius: var(--radius-lg);
      padding: 36px;
      border: 1px solid var(--border);
      transition: var(--transition);
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(10px);
    }

    .card::after {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, var(--primary-glow), transparent 50%);
      opacity: 0;
      transition: opacity 0.4s;
      pointer-events: none;
    }

    .card:hover {
      transform: translateY(-6px);
      box-shadow: var(--shadow-lg);
      border-color: var(--border-gold);
    }

    .card:hover::after {
      opacity: 1;
    }

    .card-icon {
      width: 120px;
      height: 120px;
      border-radius: 20px;
      background: var(--bg-alt);
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 24px;
      border: 1px solid var(--border-gold);
      overflow: hidden;
      /* This is critical to clip the image to the box */
      position: relative;
    }

    /* Add this to style the new images */
    .card-icon img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      /* Ensures the photo fills the box without stretching */
      filter: brightness(0.9) contrast(1.1);
      /* Subtle premium adjustment */
      transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .card:hover .card-icon img {
      transform: scale(1.15);
      /* High-end zoom effect on hover */
    }

    .card-title {
      font-size: 1.15rem;
      font-weight: 700;
      margin-bottom: 10px;
      color: var(--text-bright);
      position: relative;
      z-index: 1;
    }

    .card-text {
      font-size: 0.95rem;
      color: var(--text-secondary);
      line-height: 1.75;
      position: relative;
      z-index: 1;
    }

    .card-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: var(--primary);
      font-weight: 600;
      font-size: 0.88rem;
      margin-top: 20px;
      transition: var(--transition);
      position: relative;
      z-index: 1;
    }

    .card-link:hover {
      gap: 12px;
      color: var(--primary-light);
    }

    /* ========== GRIDS ========== */
    .grid-2 {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 32px;
    }

    .grid-3 {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 28px;
    }

    .grid-4 {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 24px;
    }

    .grid-2-1 {
      display: grid;
      grid-template-columns: 1.1fr 1fr;
      gap: 80px;
      align-items: center;
    }

    .grid-1-2 {
      display: grid;
      grid-template-columns: 1fr 1.1fr;
      gap: 80px;
      align-items: center;
    }

    /* ========== STATS BAR ========== */
    .stats-bar {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 0;
      background: var(--bg-card);
      border-radius: var(--radius-xl);
      overflow: hidden;
      box-shadow: var(--shadow-lg);
      border: 1px solid var(--border);
      position: relative;
    }

    .stats-bar::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--primary), transparent);
    }

    .stat-item {
      padding: 36px 28px;
      text-align: center;
      position: relative;
      transition: var(--transition);
    }

    .stat-item:hover {
      background: rgba(184, 134, 11, 0.03);
    }

    .stat-item:not(:last-child)::after {
      content: '';
      position: absolute;
      right: 0;
      top: 20%;
      height: 60%;
      width: 1px;
      background: var(--border);
    }

    .stat-number {
      font-size: 2.4rem;
      font-weight: 800;
      background: linear-gradient(135deg, var(--primary), var(--primary-light));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-family: var(--font-serif);
      line-height: 1.2;
    }

    .stat-label {
      font-size: 0.85rem;
      color: var(--text-secondary);
      margin-top: 6px;
      font-weight: 500;
      letter-spacing: 0.02em;
    }

    /* ========== INTRO SECTION ========== */
    .intro-image {
      position: relative;
    }

    .intro-image .img-main {
      width: 100%;
      border-radius: var(--radius-xl);
      aspect-ratio: 3/4;
      object-fit: cover;
      border: 1px solid var(--border);
      box-shadow: var(--shadow-xl);
      position: relative;
      z-index: 1;
    }

    .intro-image::before {
      content: '';
      position: absolute;
      top: -12px;
      right: -12px;
      bottom: 12px;
      left: 12px;
      border: 2px solid var(--border-gold);
      border-radius: var(--radius-xl);
      z-index: 0;
    }

    .intro-image .img-float {
      position: absolute;
      bottom: -24px;
      right: -24px;
      background: var(--bg-card-solid);
      border-radius: var(--radius);
      padding: 20px 24px;
      box-shadow: var(--shadow-lg);
      display: flex;
      align-items: center;
      gap: 14px;
      z-index: 2;
      border: 1px solid var(--border);
      backdrop-filter: blur(20px);
    }

    .intro-image .img-float .float-icon {
      width: 52px;
      height: 52px;
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-size: 1.3rem;
      box-shadow: var(--shadow-gold);
    }

    .intro-text h2 {
      font-family: var(--font-serif);
      font-size: 2.2rem;
      margin-bottom: 24px;
      color: var(--text-bright);
      line-height: 1.2;
      letter-spacing: -0.01em;
    }

    .intro-text p {
      color: var(--text-secondary);
      margin-bottom: 18px;
      font-size: 1.02rem;
      line-height: 1.85;
    }

    .intro-text .highlight {
      color: var(--primary);
      font-weight: 600;
    }

    /* ========== TESTIMONIALS ========== */
    .testimonial-card {
      background: var(--bg-card);
      border-radius: var(--radius-lg);
      padding: 36px;
      border: 1px solid var(--border);
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }

    .testimonial-card::before {
      content: '"';
      position: absolute;
      top: 16px;
      right: 24px;
      font-family: var(--font-serif);
      font-size: 5rem;
      color: var(--primary-glow-strong);
      line-height: 1;
      pointer-events: none;
    }

    .testimonial-card:hover {
      border-color: var(--border-gold);
      box-shadow: var(--shadow);
      transform: translateY(-4px);
    }

    .testimonial-stars {
      color: var(--warning);
      font-size: 0.9rem;
      margin-bottom: 18px;
      letter-spacing: 3px;
    }

    .testimonial-text {
      font-size: 1rem;
      color: var(--text);
      line-height: 1.85;
      margin-bottom: 24px;
      font-style: italic;
      position: relative;
      z-index: 1;
    }

    .testimonial-author {
      display: flex;
      align-items: center;
      gap: 14px;
      position: relative;
      z-index: 1;
    }

    .testimonial-avatar {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-weight: 700;
      font-size: 0.85rem;
      box-shadow: 0 4px 12px rgba(184, 134, 11, 0.2);
    }

    .testimonial-name {
      font-weight: 600;
      font-size: 0.9rem;
      color: var(--text-bright);
    }

    .testimonial-condition {
      font-size: 0.8rem;
      color: var(--text-muted);
      margin-top: 2px;
    }

    /* ========== PAGE HERO ========== */
    .page-hero {
      padding: 180px 0 100px;
      background: linear-gradient(135deg, var(--secondary-dark) 0%, var(--bg) 100%);
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .page-hero::before {
      content: '';
      position: absolute;
      top: -40%;
      right: -15%;
      width: 700px;
      height: 700px;
      background: radial-gradient(circle, var(--primary-glow), transparent 70%);
      border-radius: 50%;
      pointer-events: none;
    }

    .page-hero::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--border), transparent);
    }

    .page-hero h1 {
      font-family: var(--font-serif);
      font-size: clamp(2.2rem, 5vw, 3.8rem);
      margin-bottom: 16px;
      color: var(--text-bright);
      position: relative;
      z-index: 1;
      letter-spacing: -0.02em;
    }

    .page-hero p {
      font-size: 1.15rem;
      color: var(--text-secondary);
      max-width: 600px;
      margin: 0 auto;
      position: relative;
      z-index: 1;
      line-height: 1.7;
    }

    /* ========== CTA SECTION ========== */
    .cta-section {
      padding: 120px 0;
      text-align: center;
      color: #fff;
      position: relative;
      overflow: hidden;
      background: linear-gradient(135deg, #1a1a0a 0%, var(--primary-dark) 50%, #0a1a2a 100%);
    }

    .cta-section::before {
      content: '';
      position: absolute;
      inset: 0;
      background:
        radial-gradient(ellipse at 20% 50%, rgba(184, 134, 11, 0.15), transparent 60%),
        radial-gradient(ellipse at 80% 50%, rgba(42, 157, 143, 0.1), transparent 60%);
    }

    .cta-section::after {
      content: '';
      position: absolute;
      inset: 0;
      background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.02'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    }

    .cta-section h2 {
      font-family: var(--font-serif);
      font-size: clamp(2rem, 4vw, 3rem);
      margin-bottom: 20px;
      position: relative;
      z-index: 1;
      letter-spacing: -0.01em;
    }

    .cta-section p {
      font-size: 1.15rem;
      opacity: 0.8;
      margin-bottom: 40px;
      max-width: 560px;
      margin-left: auto;
      margin-right: auto;
      position: relative;
      z-index: 1;
      line-height: 1.7;
    }

    .cta-section .btn {
      position: relative;
      z-index: 1;
    }

    /* ========== WHY CHOOSE CARDS ========== */
    .why-card {
      text-align: center;
      padding: 44px 32px;
    }

    .why-card .card-icon {
      margin: 0 auto 24px;
    }

    /* ========== TIMELINE ========== */
    .timeline {
      position: relative;
      padding-left: 44px;
    }

    .timeline::before {
      content: '';
      position: absolute;
      left: 16px;
      top: 0;
      bottom: 0;
      width: 2px;
      background: linear-gradient(to bottom, var(--primary), var(--accent), var(--primary-dark));
    }

    .timeline-item {
      position: relative;
      margin-bottom: 32px;
      padding: 28px 32px;
      background: var(--bg-card);
      border-radius: var(--radius);
      border: 1px solid var(--border);
      transition: var(--transition);
    }

    .timeline-item:hover {
      box-shadow: var(--shadow);
      border-color: var(--border-gold);
      transform: translateX(4px);
    }

    .timeline-item::before {
      content: '';
      position: absolute;
      left: -36px;
      top: 34px;
      width: 14px;
      height: 14px;
      border-radius: 50%;
      background: var(--primary);
      border: 3px solid var(--bg);
      box-shadow: 0 0 0 4px var(--primary-glow-strong);
    }

    .timeline-year {
      font-size: 0.78rem;
      font-weight: 700;
      color: var(--primary);
      text-transform: uppercase;
      letter-spacing: 0.06em;
      margin-bottom: 8px;
    }

    .timeline-title {
      font-weight: 700;
      font-size: 1.1rem;
      margin-bottom: 6px;
      color: var(--text-bright);
    }

    .timeline-subtitle {
      font-size: 0.92rem;
      color: var(--text-secondary);
      line-height: 1.6;
    }

    /* ========== SERVICE CARDS ========== */
    .service-card {
      padding: 0;
      overflow: hidden;
    }

    .service-card-img {
      height: 220px;
      background: linear-gradient(135deg, var(--bg-alt), var(--secondary));
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3.5rem;
      position: relative;
      overflow: hidden;
    }

    .service-card-img img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.6s var(--ease-out);
    }

    .service-card:hover .service-card-img img {
      transform: scale(1.08);
    }

    .service-card-img .service-overlay {
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, transparent 40%, rgba(10, 14, 23, 0.8) 100%);
      z-index: 1;
    }

    .service-card-body {
      padding: 32px;
      position: relative;
      z-index: 2;
    }

    .service-card-body h3 {
      font-size: 1.2rem;
      font-weight: 700;
      margin-bottom: 10px;
      color: var(--text-bright);
    }

    .service-card-body p {
      font-size: 0.92rem;
      color: var(--text-secondary);
      line-height: 1.75;
      margin-bottom: 16px;
    }

    .service-tag {
      display: inline-block;
      padding: 4px 12px;
      margin: 3px;
      background: var(--primary-glow);
      border: 1px solid var(--border-gold);
      border-radius: var(--radius-full);
      font-size: 0.76rem;
      color: var(--primary-light);
      font-weight: 500;
      transition: var(--transition-fast);
    }

    .service-tag:hover {
      background: var(--primary);
      color: #fff;
      border-color: var(--primary);
    }

    /* ========== RESULT CARDS ========== */
    .result-card {
      overflow: hidden;
      padding: 0;
    }

    .result-imgs {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0;
    }

    .result-img {
      height: 200px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
      color: var(--text-muted);
      position: relative;
      overflow: hidden;
    }

    .result-img img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .result-img:first-child {
      border-right: 1px solid var(--border);
    }

    .result-img .img-label {
      position: absolute;
      top: 12px;
      left: 12px;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(8px);
      color: #fff;
      padding: 4px 12px;
      border-radius: var(--radius-full);
      font-size: 0.7rem;
      font-weight: 600;
      letter-spacing: 0.05em;
      z-index: 2;
    }

    .result-body {
      padding: 28px;
    }

    .result-condition {
      font-weight: 700;
      font-size: 1.05rem;
      margin-bottom: 4px;
      color: var(--text-bright);
    }

    .result-treatment {
      font-size: 0.85rem;
      color: var(--primary);
      font-weight: 600;
      margin-bottom: 14px;
    }

    .result-quote {
      font-style: italic;
      font-size: 0.92rem;
      color: var(--text-secondary);
      line-height: 1.7;
      padding-left: 18px;
      border-left: 3px solid var(--primary-dark);
    }

    /* ========== FAQ ========== */
    .faq-item {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      margin-bottom: 12px;
      overflow: hidden;
      transition: var(--transition);
    }

    .faq-item:hover {
      border-color: var(--border-gold);
    }

    .faq-q {
      padding: 22px 28px;
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 16px;
      color: var(--text);
      transition: var(--transition-fast);
    }

    .faq-q:hover {
      color: var(--primary);
    }

    .faq-q .faq-icon {
      font-size: 1.1rem;
      transition: transform 0.4s var(--ease-out);
      flex-shrink: 0;
      color: var(--primary);
      width: 28px;
      height: 28px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--primary-glow);
      border-radius: 50%;
    }

    .faq-item.open .faq-icon {
      transform: rotate(45deg);
    }

    .faq-a {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.5s var(--ease-out);
    }

    .faq-item.open .faq-a {
      max-height: 500px;
    }

    .faq-a-inner {
      padding: 0 28px 24px;
      color: var(--text-secondary);
      font-size: 0.95rem;
      line-height: 1.85;
    }

    /* ========== REVIEW SUMMARY ========== */
    .review-summary {
      display: flex;
      align-items: center;
      gap: 48px;
      background: var(--bg-card);
      border-radius: var(--radius-xl);
      padding: 48px;
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      margin-bottom: 56px;
      flex-wrap: wrap;
      position: relative;
      overflow: hidden;
    }

    .review-summary::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, var(--primary), var(--accent), var(--primary));
    }

    .review-big-score {
      text-align: center;
      min-width: 160px;
    }

    .review-big-number {
      font-size: 4.5rem;
      font-weight: 800;
      background: linear-gradient(135deg, var(--primary), var(--primary-light));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-family: var(--font-serif);
      line-height: 1;
    }

    .review-big-stars {
      color: var(--warning);
      font-size: 1.2rem;
      margin: 10px 0;
      letter-spacing: 2px;
    }

    .review-big-count {
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    .review-bars {
      flex: 1;
      min-width: 200px;
    }

    .review-bar-row {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 10px;
      font-size: 0.85rem;
    }

    .review-bar-row span:first-child {
      width: 40px;
      text-align: right;
      font-weight: 600;
      color: var(--text);
    }

    .review-bar {
      flex: 1;
      height: 6px;
      background: var(--border);
      border-radius: 3px;
      overflow: hidden;
    }

    .review-bar-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--primary), var(--primary-light));
      border-radius: 3px;
      transition: width 1.2s var(--ease-out);
    }

    .review-bar-row span:last-child {
      width: 35px;
      color: var(--text-muted);
      font-size: 0.8rem;
    }

    /* ========== CONTACT FORM ========== */
    .form-group {
      margin-bottom: 22px;
    }

    .form-group label {
      display: block;
      font-weight: 600;
      font-size: 0.88rem;
      margin-bottom: 10px;
      color: var(--text);
    }

    .form-group input,
    .form-group textarea,
    .form-group select {
      width: 100%;
      padding: 15px 20px;
      border: 1.5px solid var(--border);
      border-radius: var(--radius-sm);
      font-size: 0.95rem;
      transition: var(--transition);
      background: var(--bg-card);
      color: var(--text);
      outline: none;
    }

    .form-group input:focus,
    .form-group textarea:focus,
    .form-group select:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 4px var(--primary-glow);
    }

    .form-group textarea {
      resize: vertical;
      min-height: 130px;
    }

    .form-group select {
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%238896A7' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 16px center;
      padding-right: 40px;
    }

    /* ========== MAP ========== */
    .map-container {
      border-radius: var(--radius-lg);
      overflow: hidden;
      height: 300px;
      background: var(--bg-alt);
      border: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-muted);
    }

    /* ========== FOOTER ========== */
    .footer {
      background: #030810;
      color: #fff;
      padding: 100px 0 0;
      position: relative;
    }

    .footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--primary-dark), transparent);
    }

    .footer-grid {
      display: grid;
      grid-template-columns: 1.5fr 1fr 1fr 1fr;
      gap: 56px;
      padding-bottom: 56px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.06);
    }

    .footer h4 {
      font-size: 0.95rem;
      font-weight: 700;
      margin-bottom: 24px;
      color: #fff;
      letter-spacing: 0.02em;
    }

    .footer-about p {
      color: rgba(255, 255, 255, 0.5);
      font-size: 0.9rem;
      line-height: 1.75;
      margin-bottom: 20px;
    }

    .footer-links a {
      display: block;
      padding: 6px 0;
      color: rgba(255, 255, 255, 0.45);
      font-size: 0.9rem;
      transition: var(--transition-fast);
    }

    .footer-links a:hover {
      color: var(--primary);
      padding-left: 6px;
    }

    .footer-bottom {
      padding: 28px 0;
      text-align: center;
      color: rgba(255, 255, 255, 0.3);
      font-size: 0.82rem;
    }

    .footer-social {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }

    .footer-social a {
      width: 42px;
      height: 42px;
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.08);
      display: flex;
      align-items: center;
      justify-content: center;
      color: rgba(255, 255, 255, 0.5);
      transition: var(--transition);
      font-size: 0.85rem;
    }

    .footer-social a:hover {
      background: var(--primary);
      border-color: var(--primary);
      color: #fff;
      transform: translateY(-2px);
    }

    /* ========== FLOATING CTA ========== */
    .floating-cta {
      position: fixed;
      bottom: 28px;
      right: 28px;
      z-index: 900;
      display: flex;
      flex-direction: column;
      gap: 12px;
      align-items: flex-end;
    }

    .floating-btn {
      width: 56px;
      height: 56px;
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      box-shadow: var(--shadow-lg);
      transition: var(--transition);
      color: #fff;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .floating-btn:hover {
      transform: translateY(-3px) scale(1.05);
    }

    .floating-btn.whatsapp {
      background: #25D366;
    }

    .floating-btn.phone {
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
    }

    .floating-btn.admin-toggle {
      background: var(--secondary-light);
      font-size: 0.9rem;
    }

    /* ========== PAGE SYSTEM ========== */
    .page {
      display: none;
    }

    .page.active {
      display: block;
    }

    /* ========== SCROLL ANIMATIONS ========== */
    .reveal {
      opacity: 0;
      transform: translateY(40px);
      transition: all 0.9s var(--ease-out);
    }

    .reveal.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .reveal-delay-1 {
      transition-delay: 0.1s;
    }

    .reveal-delay-2 {
      transition-delay: 0.2s;
    }

    .reveal-delay-3 {
      transition-delay: 0.3s;
    }

    .reveal-delay-4 {
      transition-delay: 0.4s;
    }

    /* ========== ADMIN DASHBOARD ========== */
    .admin-overlay {
      display: none;
      position: fixed;
      inset: 0;
      z-index: 10000;
      background: var(--bg);
    }

    .admin-overlay.open {
      display: flex;
    }

    .admin-sidebar {
      width: 270px;
      background: var(--secondary-dark);
      color: #fff;
      padding: 28px 0;
      display: flex;
      flex-direction: column;
      overflow-y: auto;
      flex-shrink: 0;
      border-right: 1px solid var(--border);
    }

    .admin-sidebar-header {
      padding: 0 28px 28px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.06);
      margin-bottom: 8px;
    }

    .admin-sidebar-header h3 {
      font-size: 1.1rem;
      margin-bottom: 6px;
    }

    .admin-sidebar-header p {
      font-size: 0.72rem;
      color: rgba(255, 255, 255, 0.4);
    }

    .admin-nav a {
      display: flex;
      align-items: center;
      gap: 14px;
      padding: 13px 28px;
      color: rgba(255, 255, 255, 0.5);
      font-size: 0.88rem;
      font-weight: 500;
      transition: var(--transition-fast);
      border-left: 3px solid transparent;
    }

    .admin-nav a:hover,
    .admin-nav a.active {
      color: #fff;
      background: rgba(255, 255, 255, 0.04);
      border-left-color: var(--primary);
    }

    .admin-nav a .nav-icon {
      width: 20px;
      text-align: center;
    }

    .admin-main {
      flex: 1;
      overflow-y: auto;
      background: var(--bg);
    }

    .admin-topbar {
      padding: 22px 36px;
      background: var(--bg-card);
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: sticky;
      top: 0;
      z-index: 10;
      backdrop-filter: blur(20px);
    }

    .admin-topbar h2 {
      font-size: 1.3rem;
      font-weight: 700;
    }

    .admin-content {
      padding: 36px;
    }

    .admin-card {
      background: var(--bg-card);
      border-radius: var(--radius);
      border: 1px solid var(--border);
      padding: 32px;
      margin-bottom: 28px;
    }

    .admin-card h3 {
      font-size: 1.1rem;
      font-weight: 700;
      margin-bottom: 24px;
      padding-bottom: 14px;
      border-bottom: 1px solid var(--border);
    }

    .admin-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 20px;
      margin-bottom: 28px;
    }

    .admin-stat {
      background: var(--bg-card);
      border-radius: var(--radius);
      border: 1px solid var(--border);
      padding: 24px;
      display: flex;
      align-items: center;
      gap: 18px;
    }

    .admin-stat-icon {
      width: 52px;
      height: 52px;
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.3rem;
    }

    .admin-stat-icon.blue {
      background: rgba(184, 134, 11, 0.1);
      color: var(--primary);
    }

    .admin-stat-icon.green {
      background: rgba(16, 185, 129, 0.1);
      color: var(--success);
    }

    .admin-stat-icon.purple {
      background: rgba(42, 157, 143, 0.1);
      color: var(--accent);
    }

    .admin-stat-icon.orange {
      background: rgba(245, 158, 11, 0.1);
      color: var(--warning);
    }

    .admin-stat-number {
      font-size: 1.7rem;
      font-weight: 800;
      color: var(--text-bright);
      line-height: 1.2;
    }

    .admin-stat-label {
      font-size: 0.8rem;
      color: var(--text-secondary);
    }

    .admin-form .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }

    .admin-table {
      width: 100%;
      border-collapse: collapse;
    }

    .admin-table th {
      text-align: left;
      padding: 14px 18px;
      font-size: 0.78rem;
      font-weight: 600;
      color: var(--text-secondary);
      text-transform: uppercase;
      letter-spacing: 0.06em;
      border-bottom: 2px solid var(--border);
    }

    .admin-table td {
      padding: 16px 18px;
      border-bottom: 1px solid var(--border-light);
      font-size: 0.9rem;
      color: var(--text);
    }

    .admin-table tr:hover td {
      background: rgba(184, 134, 11, 0.02);
    }

    .admin-table .actions {
      display: flex;
      gap: 8px;
    }

    .admin-table .actions button {
      padding: 6px 14px;
      border-radius: 8px;
      font-size: 0.8rem;
      font-weight: 500;
      transition: var(--transition-fast);
    }

    .admin-table .actions .edit {
      background: var(--primary-glow);
      color: var(--primary);
    }

    .admin-table .actions .edit:hover {
      background: var(--primary);
      color: #fff;
    }

    .admin-table .actions .delete {
      background: rgba(239, 68, 68, 0.1);
      color: var(--error);
    }

    .admin-table .actions .delete:hover {
      background: var(--error);
      color: #fff;
    }

    .badge {
      display: inline-flex;
      padding: 4px 12px;
      border-radius: var(--radius-full);
      font-size: 0.75rem;
      font-weight: 600;
    }

    .badge-success {
      background: rgba(16, 185, 129, 0.1);
      color: var(--success);
    }

    .badge-warning {
      background: rgba(245, 158, 11, 0.1);
      color: var(--warning);
    }

    .badge-primary {
      background: var(--primary-glow);
      color: var(--primary);
    }

    /* Modal */
    .modal-overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(4px);
      z-index: 11000;
      align-items: center;
      justify-content: center;
      padding: 24px;
    }

    .modal-overlay.open {
      display: flex;
    }

    .modal {
      background: var(--bg-card-solid);
      border-radius: var(--radius-lg);
      width: 100%;
      max-width: 620px;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: var(--shadow-xl);
      border: 1px solid var(--border);
    }

    .modal-header {
      padding: 28px 32px;
      border-bottom: 1px solid var(--border);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .modal-header h3 {
      font-size: 1.15rem;
      font-weight: 700;
    }

    .modal-close {
      width: 38px;
      height: 38px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.1rem;
      color: var(--text-secondary);
      transition: var(--transition-fast);
    }

    .modal-close:hover {
      background: var(--border);
      color: var(--text);
    }

    .modal-body {
      padding: 32px;
    }

    .modal-footer {
      padding: 18px 32px;
      border-top: 1px solid var(--border);
      display: flex;
      justify-content: flex-end;
      gap: 12px;
    }

    /* ========== RESPONSIVE ========== */
    @media(max-width:1024px) {
      .grid-4 {
        grid-template-columns: repeat(2, 1fr);
      }

      .grid-3 {
        grid-template-columns: repeat(2, 1fr);
      }

      .grid-2-1,
      .grid-1-2 {
        grid-template-columns: 1fr;
        gap: 48px;
      }

      .footer-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      .container {
        padding: 0 24px;
      }
    }

    @media(max-width:768px) {

      .nav-links,
      .nav-cta .nav-phone {
        display: none;
      }

      .mobile-toggle {
        display: flex;
      }

      .grid-2,
      .grid-3,
      .grid-4 {
        grid-template-columns: 1fr;
      }

      .stats-bar {
        grid-template-columns: repeat(2, 1fr);
      }

      .stat-item:nth-child(2)::after {
        display: none;
      }

      .section {
        padding: 80px 0;
      }

      .footer-grid {
        grid-template-columns: 1fr;
      }

      .review-summary {
        flex-direction: column;
        text-align: center;
        padding: 32px;
      }

      .admin-sidebar {
        width: 220px;
      }

      .admin-form .form-row {
        grid-template-columns: 1fr;
      }

      .intro-image::before {
        display: none;
      }

      .intro-image .img-float {
        position: relative;
        bottom: auto;
        right: auto;
        margin-top: 16px;
      }

      .hero-phase .hero-cta-group {
        flex-direction: column;
        align-items: center;
      }
    }

    @media(max-width:480px) {
      .stats-bar {
        grid-template-columns: 1fr;
      }

      .stat-item::after {
        display: none !important;
      }

      .page-hero {
        padding: 140px 0 60px;
      }
    }

    @media(prefers-reduced-motion: reduce) {
      .reveal {
        opacity: 1;
        transform: none;
        transition: none;
      }
    }
  </style>
</head>

<body>

  <!-- ===== NAVIGATION ===== -->
  <nav class="nav" id="mainNav">
    <div class="nav-inner">
      <a href="#" class="nav-logo" onclick="goTo('home')">
        <div class="logo-icon">MS</div>
        <span>Dr. Moaz Saleem</span>
      </a>
      <div class="nav-links" id="navLinks">
        <a href="#" class="active" data-page="home" onclick="goTo('home')">Home</a>
        <a href="#" data-page="about" onclick="goTo('about')">About</a>
        <a href="#" data-page="services" onclick="goTo('services')">Services</a>
        <a href="#" data-page="results" onclick="goTo('results')">Results</a>
        <a href="#" data-page="resources" onclick="goTo('resources')">Resources</a>
        <a href="#" data-page="reviews" onclick="goTo('reviews')">Reviews</a>
        <a href="#" data-page="contact" onclick="goTo('contact')">Contact</a>
      </div>
      <div class="nav-cta">
        <a href="tel:+15552345678" class="nav-phone">ðŸ“ž (555) 234-5678</a>
        <button class="btn btn-primary btn-sm" onclick="goTo('contact')">Book Consultation</button>
      </div>
      <div class="mobile-toggle" onclick="toggleMobileNav()">
        <span></span><span></span><span></span>
      </div>
    </div>
  </nav>

  <div class="mobile-nav" id="mobileNav">
    <a href="#" onclick="goTo('home');toggleMobileNav()">Home</a>
    <a href="#" onclick="goTo('about');toggleMobileNav()">About</a>
    <a href="#" onclick="goTo('services');toggleMobileNav()">Services</a>
    <a href="#" onclick="goTo('results');toggleMobileNav()">Results</a>
    <a href="#" onclick="goTo('resources');toggleMobileNav()">Resources</a>
    <a href="#" onclick="goTo('reviews');toggleMobileNav()">Reviews</a>
    <a href="#" onclick="goTo('contact');toggleMobileNav()">Contact</a>
    <button class="btn btn-primary" onclick="goTo('contact');toggleMobileNav()" style="margin-top:20px">Book
      Consultation</button>
  </div>

  <!-- ===== PRELOADER ===== -->
  <div id="preloader">
    <div class="preloader-content">
      <div class="preloader-logo">
        <div class="preloader-ring"></div>
        <div class="preloader-ring"></div>
        <div class="preloader-ring"></div>
        <div class="preloader-initials">MS</div>
      </div>
      <div class="preloader-text">Dr. Moaz Saleem</div>
      <div class="preloader-bar">
        <div class="preloader-bar-fill"></div>
      </div>
    </div>
  </div>

  <!-- ===== HOME PAGE ===== -->
  <div class="page active" id="page-home">

    <!-- Hero Scroll Animation -->
    <div id="animation-container" style="height:100vh;width:100%;position:relative;">
      <div class="hero-text-overlay">

        <!-- Phase 1: Introduction -->
        <div class="hero-phase phase-1 active">
          <div class="hero-badge-inline">
            <span class="pulse-dot"></span>
            Accepting New Patients
          </div>
          <h1>Dr. Moaz Saleem</h1>
          <p>Board-Certified Orthopedic Surgeon</p>
          <div class="hero-cta-group">
            <button class="btn btn-primary btn-lg" onclick="goTo('contact')">Schedule Consultation</button>
            <button class="btn btn-outline btn-lg" style="border-color:rgba(255,255,255,.3);color:#fff"
              onclick="goTo('about')">Learn More</button>
          </div>
        </div>

        <!-- Phase 2: Expertise -->
        <div class="hero-phase phase-2">
          <h1>10+ Years of <span class="highlight">Surgical Excellence</span></h1>
          <p>Specializing in Sports Medicine, Joint Reconstruction<br>& Minimally Invasive Procedures</p>
        </div>

        <!-- Phase 3: Outcome -->
        <div class="hero-phase phase-3">
          <h1>Restoring <span class="highlight">Active Lives</span></h1>
          <p>Advanced Precision. Compassionate Care. Proven Results.</p>
          <div class="hero-cta-group">
            <button class="btn btn-primary btn-lg" onclick="goTo('results')">View Patient Results</button>
          </div>
        </div>

      </div>

      <canvas id="heroCanvas" role="img" aria-label="Orthopedic surgery animation sequence"
        style="position:absolute;top:0;left:0;width:100%;height:100vh;object-fit:cover;"></canvas>
      <div class="hero-canvas-overlay"></div>
      <div class="hero-canvas-vignette"></div>

      <div class="hero-scroll">
        <div class="scroll-mouse"></div>
        <span>Scroll to Explore</span>
      </div>

      <div class="hero-frame-counter" id="heroFrameCounter">Frame: 0 / 121</div>
    </div>

    <!-- ===== INTRODUCTION SECTION ===== -->
    <section class="section" id="introSection">
      <div class="container">
        <div class="grid-2-1 reveal">
          <div class="intro-image">
            <img src="images/913fc209-26cf-4809-a243-e39d338698b7.jpeg" class="img-main"
              alt="Dr. Moaz Saleem Professional Portrait"
              onerror="this.style.background='linear-gradient(135deg, #1a2332, #243447)';this.alt='Doctor Portrait'">
            <div class="img-float">
              <div class="float-icon">ðŸ†</div>
              <div>
                <strong style="font-size:.95rem;color:var(--text-bright)">10+ Years</strong><br>
                <span style="font-size:.8rem;color:var(--text-secondary)">of Excellence</span>
              </div>
            </div>
          </div>
          <div class="intro-text">
            <div class="section-label">Welcome</div>
            <h2>Dedicated to Restoring Your Active Lifestyle</h2>
            <p>I'm <span class="highlight">Dr. Moaz Saleem</span>, a board-certified orthopedic surgeon specializing
              in
              sports medicine and joint reconstruction. My mission is to help every patient return to the activities
              they love through advanced, minimally invasive surgical techniques.</p>
            <p>With over a decade of experience and more than 1,000 successful procedures, I combine cutting-edge
              surgical technology with a compassionate, patient-centered approach. From diagnosis through
              rehabilitation, I'm with you every step of your recovery journey.</p>
            <p>Whether you're an athlete dealing with a sports injury, or seeking relief from chronic joint pain, I'm
              committed to providing you with the highest quality orthopedic care available.</p>
            <div style="display:flex;gap:12px;margin-top:28px;flex-wrap:wrap">
              <button class="btn btn-primary" onclick="goTo('about')">Learn More About Me â†’</button>
              <button class="btn btn-ghost" onclick="goTo('services')">View Services</button>
            </div>
          </div>
        </div>

        <!-- Stats Bar -->
        <div class="stats-bar reveal" style="margin-top:100px">
          <div class="stat-item">
            <div class="stat-number" id="stat1">10+</div>
            <div class="stat-label">Years Experience</div>
          </div>
          <div class="stat-item">
            <div class="stat-number" id="stat2">1,000+</div>
            <div class="stat-label">Procedures Performed</div>
          </div>
          <div class="stat-item">
            <div class="stat-number" id="stat3">98%</div>
            <div class="stat-label">Patient Satisfaction</div>
          </div>
          <div class="stat-item">
            <div class="stat-number" id="stat4">Board</div>
            <div class="stat-label">Certified Surgeon</div>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== SPECIALIZATIONS SECTION ===== -->
    <section class="section section-alt">
      <div class="container">
        <div class="section-header reveal">
          <div class="section-label">Specializations</div>
          <h2 class="section-title">Areas of Expertise</h2>
          <p class="section-desc">Comprehensive orthopedic care across a wide range of conditions, from sports
            injuries
            to complex joint replacements.</p>
        </div>
        <div class="grid-3" id="specialtiesGrid"></div>
      </div>
    </section>

    <!-- ===== WHY CHOOSE SECTION ===== -->
    <section class="section section-warm">
      <div class="container">
        <div class="section-header reveal">
          <div class="section-label">Why Dr. Reid</div>
          <h2 class="section-title">Why Patients Choose Dr. Reid</h2>
          <p class="section-desc">Every patient deserves exceptional care from an experienced, compassionate surgeon.
          </p>
        </div>
        <div class="grid-3" id="whyChooseGrid"></div>
      </div>
    </section>

    <!-- ===== FEATURED IMAGE BANNER ===== -->
    <section style="position:relative;height:50vh;min-height:400px;overflow:hidden">
      <img src="https://images.unsplash.com/photo-1551190822-a9ce113ac100?w=1600&h=600&fit=crop"
        alt="Modern surgical suite" style="width:100%;height:100%;object-fit:cover;filter:brightness(0.3)"
        onerror="this.parentElement.style.background='linear-gradient(135deg,#0a0e17,#1a2332)'">
      <div
        style="position:absolute;inset:0;display:flex;align-items:center;justify-content:center;text-align:center;padding:0 24px;z-index:2">
        <div>
          <h2
            style="font-family:var(--font-serif);font-size:clamp(1.8rem,4vw,3rem);color:#fff;margin-bottom:16px;letter-spacing:-0.01em">
            State-of-the-Art <span style="color:var(--primary)">Surgical Technology</span>
          </h2>
          <p style="color:rgba(255,255,255,.7);font-size:1.1rem;max-width:600px;margin:0 auto 28px;line-height:1.7">
            Robotic-assisted surgery, 4K arthroscopy, and computer-guided navigation for precision outcomes.
          </p>
          <button class="btn btn-primary btn-lg" onclick="goTo('services')">Explore Our Technology â†’</button>
        </div>
      </div>
      <div
        style="position:absolute;inset:0;background:linear-gradient(180deg,var(--bg) 0%,transparent 15%,transparent 85%,var(--bg) 100%);pointer-events:none">
      </div>
    </section>

    <!-- ===== TESTIMONIALS PREVIEW ===== -->
    <section class="section section-alt">
      <div class="container">
        <div class="section-header reveal">
          <div class="section-label">Testimonials</div>
          <h2 class="section-title">Patient Success Stories</h2>
          <p class="section-desc">Hear from patients whose lives have been transformed through expert orthopedic care.
          </p>
        </div>
        <div class="grid-3" id="testimonialsGrid"></div>
        <div style="text-align:center;margin-top:48px" class="reveal">
          <button class="btn btn-outline" onclick="goTo('reviews')">Read All Reviews â†’</button>
        </div>
      </div>
    </section>

    <!-- ===== CTA SECTION ===== -->
    <section class="cta-section">
      <div class="container">
        <h2>Ready to Take the First Step<br>Toward Recovery?</h2>
        <p>Schedule your consultation today and discover your personalized treatment plan.</p>
        <div style="display:flex;gap:16px;justify-content:center;flex-wrap:wrap">
          <button class="btn btn-white btn-lg" onclick="goTo('contact')">Book Free Consultation</button>
          <a href="tel:+15552345678" class="btn btn-lg" style="border:1.5px solid rgba(255,255,255,.25);color:#fff">ðŸ“ž
            (555) 234-5678</a>
        </div>
      </div>
    </section>

  </div><!-- end home page -->

  <!-- ===== ABOUT PAGE ===== -->
  <div class="page" id="page-about">
    <div class="page-hero">
      <div class="container">
        <div class="section-label" style="margin-bottom:16px">About</div>
        <h1>About Dr. Moaz Saleem</h1>
        <p>Dedicated to advancing orthopedic care through innovation, compassion, and clinical excellence.</p>
      </div>
    </div>

    <section class="section">
      <div class="container">
        <div class="grid-1-2 reveal">
          <div class="intro-image">
            <img src="https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=600&h=800&fit=crop&crop=face"
              class="img-main" alt="Dr. Reid Consulting with Patient"
              onerror="this.style.background='linear-gradient(135deg, #1a2332, #243447)'">
          </div>
          <div class="intro-text">
            <div class="section-label">Biography</div>
            <h2>A Passion for Healing Through Precision</h2>
            <p>My journey into orthopedic surgery began during my undergraduate years as a competitive athlete. After
              experiencing a significant knee injury firsthand, I witnessed the profound impact that skilled surgical
              intervention can have on a person's quality of life.</p>
            <p>After completing my medical degree at <span class="highlight">Johns Hopkins University School of
                Medicine</span>, I pursued rigorous residency training at the <span class="highlight">Hospital for
                Special Surgery</span> in New York â€” consistently ranked the #1
              orthopedic hospital in the nation. I then completed a fellowship in <span class="highlight">Sports
                Medicine and Joint Reconstruction</span> at the Cleveland Clinic.</p>
            <p>My approach to patient care is rooted in three principles: <strong>thorough diagnosis, minimally
                invasive
                treatment whenever possible, and comprehensive rehabilitation support.</strong></p>
            <p>Outside the operating room, I'm an avid cyclist, trail runner, and youth sports coach. I understand
              what
              it means to want to stay active, and I bring that personal understanding to every patient interaction.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- About Photo Banner -->
    <section style="position:relative;height:40vh;min-height:300px;overflow:hidden">
      <img src="https://images.unsplash.com/photo-1579684385127-1ef15d508118?w=1600&h=500&fit=crop"
        alt="Advanced orthopedic surgery" style="width:100%;height:100%;object-fit:cover;filter:brightness(0.25)"
        onerror="this.parentElement.style.background='var(--bg-alt)'">
      <div style="position:absolute;inset:0;display:flex;align-items:center;justify-content:center;z-index:2">
        <div class="stats-bar"
          style="max-width:900px;width:90%;background:rgba(22,30,44,.9);backdrop-filter:blur(20px)">
          <div class="stat-item">
            <div class="stat-number">1,000+</div>
            <div class="stat-label">Successful Surgeries</div>
          </div>
          <div class="stat-item">
            <div class="stat-number">97%</div>
            <div class="stat-label">Success Rate</div>
          </div>
          <div class="stat-item">
            <div class="stat-number">4.9/5</div>
            <div class="stat-label">Patient Rating</div>
          </div>
          <div class="stat-item">
            <div class="stat-number">15+</div>
            <div class="stat-label">Awards Won</div>
          </div>
        </div>
      </div>
    </section>

    <section class="section section-alt">
      <div class="container">
        <div class="section-header reveal">
          <div class="section-label">Credentials</div>
          <h2 class="section-title">Education & Training</h2>
        </div>
        <div style="max-width:720px;margin:0 auto">
          <div class="timeline reveal" id="timelineContainer"></div>
        </div>
      </div>
    </section>

    <section class="section">
      <div class="container">
        <div class="grid-2" style="gap:56px">
          <div class="reveal">
            <div class="section-label">Certifications</div>
            <h2 class="section-title" style="text-align:left;font-size:1.8rem">Board Certifications & Memberships</h2>
            <div style="margin-top:28px" id="certificationsContainer"></div>
          </div>
          <div class="reveal">
            <div class="section-label">Recognition</div>
            <h2 class="section-title" style="text-align:left;font-size:1.8rem">Awards & Honors</h2>
            <div style="margin-top:28px" id="awardsContainer"></div>
          </div>
        </div>
      </div>
    </section>

    <section class="cta-section">
      <div class="container">
        <h2>Learn About My Treatment Approach</h2>
        <p>Explore the comprehensive range of orthopedic services I provide.</p>
        <button class="btn btn-white btn-lg" onclick="goTo('services')">View Services â†’</button>
      </div>
    </section>
  </div><!-- end about page -->

  <!-- ===== SERVICES PAGE ===== -->
  <div class="page" id="page-services">
    <div class="page-hero">
      <div class="container">
        <div class="section-label" style="margin-bottom:16px">Services</div>
        <h1>Comprehensive Orthopedic Care</h1>
        <p>Advanced surgical and non-surgical treatment options tailored to your needs.</p>
      </div>
    </div>

    <section class="section">
      <div class="container">
        <div class="section-header reveal">
          <div class="section-label">Our Services</div>
          <h2 class="section-title">Treatment Specialties</h2>
          <p class="section-desc">From conservative therapies to complex surgical interventions, we offer a full
            spectrum of orthopedic care.</p>
        </div>
        <div class="grid-3" id="servicesGrid"></div>
      </div>
    </section>

    <!-- Services Photo Divider -->
    <section style="position:relative;height:45vh;min-height:350px;overflow:hidden">
      <img src="https://images.unsplash.com/photo-1530497610245-94d3c16cda28?w=1600&h=600&fit=crop"
        alt="Rehabilitation and recovery" style="width:100%;height:100%;object-fit:cover;filter:brightness(0.3)"
        onerror="this.parentElement.style.background='var(--bg-alt)'">
      <div
        style="position:absolute;inset:0;display:flex;align-items:center;justify-content:center;text-align:center;padding:0 24px;z-index:2">
        <div>
          <h2 style="font-family:var(--font-serif);font-size:clamp(1.8rem,3.5vw,2.8rem);color:#fff;margin-bottom:16px">
            From Diagnosis to <span style="color:var(--primary)">Full Recovery</span>
          </h2>
          <p style="color:rgba(255,255,255,.7);font-size:1.05rem;max-width:560px;margin:0 auto;line-height:1.7">
            A comprehensive, patient-centered approach guiding you through every stage of treatment.
          </p>
        </div>
      </div>
      <div
        style="position:absolute;inset:0;background:linear-gradient(180deg,var(--bg) 0%,transparent 20%,transparent 80%,var(--bg-alt) 100%);pointer-events:none">
      </div>
    </section>

    <section class="section section-alt">
      <div class="container">
        <div class="section-header reveal">
          <div class="section-label">Technology</div>
          <h2 class="section-title">Advanced Surgical Technology</h2>
          <p class="section-desc">We leverage the latest advances in medical technology for superior patient outcomes.
          </p>
        </div>
        <div class="grid-4" id="techGrid"></div>
      </div>
    </section>

    <section class="cta-section">
      <div class="container">
        <h2>Not Sure Which Treatment Is Right for You?</h2>
        <p>Schedule a consultation and we'll create a personalized treatment plan.</p>
        <button class="btn btn-white btn-lg" onclick="goTo('contact')">Schedule Consultation â†’</button>
      </div>
    </section>
  </div><!-- end services page -->

  <!-- ===== RESULTS PAGE ===== -->
  <div class="page" id="page-results">
    <div class="page-hero">
      <div class="container">
        <div class="section-label" style="margin-bottom:16px">Results</div>
        <h1>Real Patients, Real Results</h1>
        <p>See the transformative impact of expert orthopedic care on our patients' lives.</p>
      </div>
    </div>

    <section class="section">
      <div class="container">
        <div class="stats-bar reveal" style="margin-bottom:72px">
          <div class="stat-item">
            <div class="stat-number">97%</div>
            <div class="stat-label">Surgery Success Rate</div>
          </div>
          <div class="stat-item">
            <div class="stat-number">4.9/5</div>
            <div class="stat-label">Patient Satisfaction</div>
          </div>
          <div class="stat-item">
            <div class="stat-number">85%</div>
            <div class="stat-label">Return to Sport</div>
          </div>
          <div class="stat-item">
            <div class="stat-number">&lt;2%</div>
            <div class="stat-label">Complication Rate</div>
          </div>
        </div>
        <div class="section-header reveal">
          <div class="section-label">Case Studies</div>
          <h2 class="section-title">Patient Outcomes</h2>
        </div>
        <div class="grid-2" id="resultsGrid"></div>
      </div>
    </section>

    <section class="cta-section">
      <div class="container">
        <h2>Ready to Write Your Own Success Story?</h2>
        <p>Take the first step toward recovery and schedule your consultation.</p>
        <button class="btn btn-white btn-lg" onclick="goTo('contact')">Book Consultation â†’</button>
      </div>
    </section>
  </div><!-- end results page -->

  <!-- ===== RESOURCES PAGE ===== -->
  <div class="page" id="page-resources">
    <div class="page-hero">
      <div class="container">
        <div class="section-label" style="margin-bottom:16px">Resources</div>
        <h1>Patient Education Center</h1>
        <p>Knowledge empowers better health decisions. Explore our library of resources.</p>
      </div>
    </div>

    <section class="section">
      <div class="container">
        <div class="section-header reveal">
          <div class="section-label">Articles</div>
          <h2 class="section-title">Educational Articles</h2>
        </div>
        <div class="grid-3" id="articlesGrid"></div>
      </div>
    </section>

    <section class="section section-alt">
      <div class="container">
        <div class="section-header reveal">
          <div class="section-label">FAQ</div>
          <h2 class="section-title">Frequently Asked Questions</h2>
          <p class="section-desc">Find answers to common questions about orthopedic procedures, recovery, and more.
          </p>
        </div>
        <div style="max-width:820px;margin:0 auto" id="faqContainer"></div>
      </div>
    </section>

    <section class="section">
      <div class="container">
        <div class="section-header reveal">
          <div class="section-label">Downloads</div>
          <h2 class="section-title">Patient Guides</h2>
        </div>
        <div class="grid-3" id="guidesGrid"></div>
      </div>
    </section>
  </div><!-- end resources page -->

  <!-- ===== REVIEWS PAGE ===== -->
  <div class="page" id="page-reviews">
    <div class="page-hero">
      <div class="container">
        <div class="section-label" style="margin-bottom:16px">Reviews</div>
        <h1>What Patients Are Saying</h1>
        <p>Hear from those whose lives have been transformed by expert orthopedic care.</p>
      </div>
    </div>

    <section class="section">
      <div class="container">
        <div class="review-summary reveal" id="reviewSummary"></div>
        <div class="grid-2" id="allReviewsGrid"></div>
      </div>
    </section>
  </div><!-- end reviews page -->

  <!-- ===== CONTACT PAGE ===== -->
  <div class="page" id="page-contact">
    <div class="page-hero">
      <div class="container">
        <div class="section-label" style="margin-bottom:16px">Contact</div>
        <h1>Get In Touch</h1>
        <p>We're here to answer your questions and help you start your journey to recovery.</p>
      </div>
    </div>

    <section class="section">
      <div class="container">
        <div class="grid-2" style="gap:72px">
          <div class="reveal">
            <h2 style="font-family:var(--font-serif);font-size:1.8rem;margin-bottom:8px;color:var(--text-bright)">
              Request a Consultation</h2>
            <p style="color:var(--text-secondary);margin-bottom:36px;font-size:.95rem;line-height:1.7">Fill out the
              form
              below and our
              team will contact you within 24 hours to schedule your appointment.</p>
            <form id="contactForm" onsubmit="handleContactSubmit(event)">
              <div class="admin-form">
                <div class="form-row">
                  <div class="form-group"><label>Full Name *</label><input type="text" required
                      placeholder="John Smith"></div>
                  <div class="form-group"><label>Phone Number *</label><input type="tel" required
                      placeholder="(555) 000-0000"></div>
                </div>
                <div class="form-row">
                  <div class="form-group"><label>Email Address *</label><input type="email" required
                      placeholder="john@email.com"></div>
                  <div class="form-group"><label>Preferred Contact</label>
                    <select>
                      <option>Phone Call</option>
                      <option>Email</option>
                      <option>Text Message</option>
                    </select>
                  </div>
                </div>
                <div class="form-group"><label>Reason for Visit</label>
                  <select>
                    <option>New Patient Consultation</option>
                    <option>Second Opinion</option>
                    <option>Sports Injury</option>
                    <option>Joint Pain</option>
                    <option>Post-Surgery Follow Up</option>
                    <option>Insurance Inquiry</option>
                    <option>Other</option>
                  </select>
                </div>
                <div class="form-group"><label>Describe Your Condition</label>
                  <textarea
                    placeholder="Please briefly describe your symptoms, injury, or reason for seeking consultation..."></textarea>
                </div>
                <p
                  style="font-size:.78rem;color:var(--text-muted);margin-bottom:24px;display:flex;align-items:center;gap:6px">
                  <svg style="width:14px;height:14px;fill:currentColor" viewBox="0 0 24 24">
                    <path
                      d="M12,17A2,2,0,1,0,14,19A2,2,0,0,0,12,17M18,8H17V6a5,5,0,0,0-10,0V8H6a2,2,0,0,0-2,2V20a2,2,0,0,0,2,2H18a2,2,0,0,0,2-2V10A2,2,0,0,0,18,8M9,6a3,3,0,0,1,6,0V8H9V6m9,14H6V10H18Z" />
                  </svg>
                  Your information is confidential and protected under HIPAA regulations.
                </p>
                <button type="submit" class="btn btn-primary btn-lg" style="width:100%">Request Consultation
                  â†’</button>
              </div>
            </form>
          </div>
          <div class="reveal">
            <div class="card" style="margin-bottom:20px;border-color:var(--border-gold)">
              <h3
                style="font-size:1.1rem;font-weight:700;margin-bottom:16px;color:var(--text-bright);display:flex;align-items:center;gap:10px">
                <svg style="width:18px;height:18px;fill:var(--primary)" viewBox="0 0 24 24">
                  <path
                    d="M12,2A7,7,0,0,0,5,9c0,5.25,7,13,7,13s7-7.75,7-13A7,7,0,0,0,12,2Zm0,9.5A2.5,2.5,0,1,1,14.5,9,2.5,2.5,0,0,1,12,11.5Z" />
                </svg>
                Office Location
              </h3>
              <p style="color:var(--text-secondary);font-size:.95rem;line-height:1.8" id="officeAddress">1234 Medical
                Center Drive, Suite 200<br>Austin, TX 78701</p>
              <div class="map-container" style="margin-top:16px">
                <img src="https://images.unsplash.com/photo-1524661135-423995f22d0b?w=600&h=300&fit=crop"
                  alt="Office location map" style="width:100%;height:100%;object-fit:cover;opacity:0.6"
                  onerror="this.parentElement.innerHTML='ðŸ“ Map Loading...'">
              </div>
            </div>
            <div class="card" style="margin-bottom:20px">
              <h3
                style="font-size:1.1rem;font-weight:700;margin-bottom:16px;color:var(--text-bright);display:flex;align-items:center;gap:10px">
                <svg style="width:18px;height:18px;fill:var(--primary)" viewBox="0 0 24 24">
                  <path
                    d="M6.62,10.79a15.15,15.15,0,0,0,6.59,6.59l2.2-2.2a1,1,0,0,1,1.11-.27,11.58,11.58,0,0,0,3.58.57,1,1,0,0,1,1,1V20a1,1,0,0,1-1,1A17,17,0,0,1,3,4,1,1,0,0,1,4,3H7.5a1,1,0,0,1,1,1,11.36,11.36,0,0,0,5.7,3.58,1,1,0,0,1,.27,1.11Z" />
                </svg>
                Contact Information
              </h3>
              <p style="color:var(--text-secondary);font-size:.95rem;line-height:2.4">
                <strong>Phone:</strong> <a href="tel:+15552345678" style="color:var(--primary)">(555) 234-5678</a><br>
                <strong>Fax:</strong> (555) 234-5679<br>
                <strong>Email:</strong> <a href="mailto:info@drmarcusreid.com"
                  style="color:var(--primary)">info@drmarcusreid.com</a>
              </p>
            </div>
            <div class="card" style="margin-bottom:20px">
              <h3
                style="font-size:1.1rem;font-weight:700;margin-bottom:16px;color:var(--text-bright);display:flex;align-items:center;gap:10px">
                <svg style="width:18px;height:18px;fill:var(--primary)" viewBox="0 0 24 24">
                  <path
                    d="M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm0,18a8,8,0,1,1,8-8A8,8,0,0,1,12,20Zm1-13H11v6l5.2,3.1,0.8-1.2-4.5-2.7V7Z" />
                </svg>
                Office Hours
              </h3>
              <div style="font-size:.95rem;color:var(--text-secondary);line-height:2.4" id="officeHours">
                <div style="display:flex;justify-content:space-between"><span>Monday â€“ Friday</span><strong
                    style="color:var(--text)">8:00 AM â€“ 5:00 PM</strong></div>
                <div style="display:flex;justify-content:space-between"><span>Saturday</span><strong
                    style="color:var(--text)">By Appointment</strong></div>
                <div style="display:flex;justify-content:space-between"><span>Sunday</span><strong
                    style="color:var(--text)">Closed</strong></div>
              </div>
            </div>
            <div class="card">
              <h3
                style="font-size:1.1rem;font-weight:700;margin-bottom:16px;color:var(--text-bright);display:flex;align-items:center;gap:10px">
                <svg style="width:18px;height:18px;fill:var(--primary)" viewBox="0 0 24 24">
                  <path
                    d="M19,3H5A2,2,0,0,0,3,5V19a2,2,0,0,0,2,2H19a2,2,0,0,0,2-2V5A2,2,0,0,0,19,3Zm-1,11H15v3H9V14H6V10H9V7h6v3h3v4Z" />
                </svg>
                Hospital Affiliations
              </h3>
              <p style="color:var(--text-secondary);font-size:.95rem;line-height:2" id="hospitalAffiliations">
                â€¢ St. David's Medical Center<br>
                â€¢ Seton Medical Center<br>
                â€¢ Austin Surgical Hospital
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div><!-- end contact page -->

  <!-- ===== FOOTER ===== -->
  <footer class="footer" id="mainFooter">
    <div class="container">
      <div class="footer-grid">
        <div>
          <div class="nav-logo" style="margin-bottom:20px">
            <div class="logo-icon">MS</div>
            <span style="color:#fff">Dr. Moaz Saleem</span>
          </div>
          <p class="footer-about">Board-certified orthopedic surgeon specializing in sports medicine, joint
            replacement,
            and minimally invasive surgical techniques. Dedicated to restoring movement and rebuilding lives.</p>
          <div class="footer-social">
            <a href="#" aria-label="LinkedIn">in</a>
            <a href="#" aria-label="Facebook">f</a>
            <a href="#" aria-label="Instagram">ig</a>
            <a href="#" aria-label="YouTube">yt</a>
          </div>
        </div>
        <div>
          <h4>Quick Links</h4>
          <div class="footer-links">
            <a href="#" onclick="goTo('about')">About Dr. Reid</a>
            <a href="#" onclick="goTo('services')">Services</a>
            <a href="#" onclick="goTo('results')">Patient Results</a>
            <a href="#" onclick="goTo('resources')">Patient Resources</a>
            <a href="#" onclick="goTo('reviews')">Reviews</a>
            <a href="#" onclick="goTo('contact')">Contact</a>
          </div>
        </div>
        <div>
          <h4>Top Services</h4>
          <div class="footer-links">
            <a href="#" onclick="goTo('services')">Knee Replacement</a>
            <a href="#" onclick="goTo('services')">ACL Reconstruction</a>
            <a href="#" onclick="goTo('services')">Rotator Cuff Repair</a>
            <a href="#" onclick="goTo('services')">Hip Replacement</a>
            <a href="#" onclick="goTo('services')">Arthroscopic Surgery</a>
            <a href="#" onclick="goTo('services')">Sports Injuries</a>
          </div>
        </div>
        <div>
          <h4>Contact</h4>
          <div class="footer-links">
            <a href="#">ðŸ“ 1234 Medical Center Dr, Suite 200, Austin TX</a>
            <a href="tel:+15552345678">ðŸ“ž (555) 234-5678</a>
            <a href="mailto:info@drmarcusreid.com">âœ‰ï¸ info@drmarcusreid.com</a>
            <a href="#">ðŸ• Mon-Fri: 8AM - 5PM</a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>Â© 2025 Dr. Moaz Saleem, Orthopedic Surgeon. All Rights Reserved. |
          <a href="#" style="color:rgba(255,255,255,.4);transition:var(--transition-fast)"
            onmouseover="this.style.color='var(--primary)'" onmouseout="this.style.color='rgba(255,255,255,.4)'">Privacy
            Policy</a> |
          <a href="#" style="color:rgba(255,255,255,.4);transition:var(--transition-fast)"
            onmouseover="this.style.color='var(--primary)'" onmouseout="this.style.color='rgba(255,255,255,.4)'">HIPAA
            Notice</a> |
          <a href="#" style="color:rgba(255,255,255,.4);transition:var(--transition-fast)"
            onmouseover="this.style.color='var(--primary)'"
            onmouseout="this.style.color='rgba(255,255,255,.4)'">Accessibility</a>
        </p>
      </div>
    </div>
  </footer>

  <!-- ===== FLOATING BUTTONS ===== -->
  <div class="floating-cta" id="floatingCta">
    <button class="floating-btn admin-toggle" onclick="openAdmin()" title="Admin Dashboard">âš™ï¸</button>
    <a href="tel:+15552345678" class="floating-btn phone" title="Call Us">ðŸ“ž</a>
    <a href="https://wa.me/15552345678" class="floating-btn whatsapp" target="_blank" title="WhatsApp">ðŸ’¬</a>
  </div>

  <!-- ===== ADMIN DASHBOARD ===== -->
  <div class="admin-overlay" id="adminOverlay">
    <div class="admin-sidebar">
      <div class="admin-sidebar-header">
        <h3>âš™ï¸ Admin Panel</h3>
        <p>Content Management System</p>
      </div>
      <nav class="admin-nav">
        <a href="#" class="active" onclick="showAdminSection('dashboard')"><span class="nav-icon">ðŸ“Š</span>
          Dashboard</a>
        <a href="#" onclick="showAdminSection('profile')"><span class="nav-icon">ðŸ‘¤</span> Surgeon Profile</a>
        <a href="#" onclick="showAdminSection('services-admin')"><span class="nav-icon">ðŸ¥</span> Services</a>
        <a href="#" onclick="showAdminSection('testimonials-admin')"><span class="nav-icon">â­</span> Testimonials</a>
        <a href="#" onclick="showAdminSection('results-admin')"><span class="nav-icon">ðŸ“ˆ</span> Case Results</a>
        <a href="#" onclick="showAdminSection('articles-admin')"><span class="nav-icon">ðŸ“</span> Articles</a>
        <a href="#" onclick="showAdminSection('faq-admin')"><span class="nav-icon">â“</span> FAQs</a>
        <a href="#" onclick="showAdminSection('settings')"><span class="nav-icon">âš™ï¸</span> Settings</a>
      </nav>
      <div style="margin-top:auto;padding:24px 28px;border-top:1px solid rgba(255,255,255,.06)">
        <button class="btn btn-sm btn-outline"
          style="width:100%;justify-content:center;border-color:rgba(255,255,255,.15);color:rgba(255,255,255,.6)"
          onclick="closeAdmin()">â† Back to Website</button>
      </div>
    </div>
    <div class="admin-main">
      <div class="admin-topbar">
        <h2 id="adminPageTitle">Dashboard</h2>
        <button class="btn btn-sm btn-outline" onclick="closeAdmin()">âœ• Close</button>
      </div>
      <div class="admin-content" id="adminContent"></div>
    </div>
  </div>

  <!-- ===== MODAL ===== -->
  <div class="modal-overlay" id="modalOverlay" onclick="closeModal(event)">
    <div class="modal" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h3 id="modalTitle">Edit Item</h3>
        <button class="modal-close" onclick="closeModal()">âœ•</button>
      </div>
      <div class="modal-body" id="modalBody"></div>
      <div class="modal-footer" id="modalFooter"></div>
    </div>
  </div>

  <!-- ===== TOAST ===== -->
  <div id="toast" style="
    position:fixed;
    top:100px;
    right:28px;
    z-index:12000;
    opacity:0;
    transform:translateX(120px);
    transition:all .5s var(--ease-out);
    background:var(--bg-card-solid);
    padding:18px 28px;
    border-radius:var(--radius);
    box-shadow:var(--shadow-xl);
    border:1px solid var(--border);
    border-left:4px solid var(--success);
    font-size:.9rem;
    font-weight:500;
    max-width:380px;
    color:var(--text-bright);
    backdrop-filter:blur(20px);
  "></div>

  <!-- ===== JAVASCRIPT START ===== -->
  <script>
    // ========================================
    // DATA STORE
    // ========================================
    const serviceImages = [
      'images/Joint Replacement.jpg',
      'images/Sports Medicine.jpg',
      'images/Advanced Techniques.jpg',
      'images/Fracture & Trauma.jpg',
      'images/Shoulder & Elbow.jpg',
      'images/Regenerative Medicine.jpg'
    ];

    const articleImages = [
      'https://images.unsplash.com/photo-1559757175-5700dde675bc?w=500&h=300&fit=crop',
      'https://images.unsplash.com/photo-1530497610245-94d3c16cda28?w=500&h=300&fit=crop',
      'https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?w=500&h=300&fit=crop',
      'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=500&h=300&fit=crop',
      'https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=500&h=300&fit=crop',
      'https://images.unsplash.com/photo-1579684385127-1ef15d508118?w=500&h=300&fit=crop'
    ];

    const resultImages = [
      ['https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=400&h=250&fit=crop', 'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400&h=250&fit=crop'],
      ['https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=400&h=250&fit=crop', 'https://images.unsplash.com/photo-1530497610245-94d3c16cda28?w=400&h=250&fit=crop'],
      ['https://images.unsplash.com/photo-1588776814546-1ffcf47267a5?w=400&h=250&fit=crop', 'https://images.unsplash.com/photo-1559757175-5700dde675bc?w=400&h=250&fit=crop'],
      ['https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?w=400&h=250&fit=crop', 'https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=400&h=250&fit=crop'],
      ['https://images.unsplash.com/photo-1551190822-a9ce113ac100?w=400&h=250&fit=crop', 'https://images.unsplash.com/photo-1579684385127-1ef15d508118?w=400&h=250&fit=crop'],
      ['https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=400&h=250&fit=crop', 'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400&h=250&fit=crop']
    ];

    const defaultData = {
      surgeon: {
        name: "Dr. Moaz Saleem",
        initials: "MS",
        title: "Board-Certified Orthopedic Surgeon",
        subtitle: "Sports Medicine & Joint Reconstruction Specialist",
        tagline: "Restoring Movement, Rebuilding Lives",
        phone: "(555) 234-5678",
        email: "info@drmoazsaleem.com",
        address: "1234 Medical Center Drive, Suite 200\nAustin, TX 78701",
        yearsExp: "10+",
        procedures: "1,000+",
        satisfaction: "98%",
        certStatus: "Board Certified"
      },
      specialties: [
        { icon: "images/Knee Surgery.jpg", title: "Knee Surgery", desc: "Total and partial knee replacement, ACL reconstruction, meniscus repair, and arthroscopic procedures for all knee conditions." },
        { icon: "images/Sports Medicine.jpg", title: "Sports Medicine", desc: "Comprehensive care for athletes of all levels â€” from ligament repairs to tendon reconstruction and return-to-sport programs." },
        { icon: "images/Joint Replacement.jpg", title: "Joint Replacement", desc: "Hip, knee, and shoulder replacements using minimally invasive techniques and computer-assisted navigation for optimal alignment." },
        { icon: "images/Fracture & Trauma.jpg", title: "Fracture & Trauma", desc: "Expert management of complex fractures, dislocations, and musculoskeletal injuries with emphasis on functional restoration." },
        { icon: "images/Shoulder & Elbow.jpg", title: "Shoulder & Elbow", desc: "Rotator cuff repair, shoulder stabilization, elbow arthroscopy, and total shoulder replacement procedures." },
        { icon: "images/Regenerative Medicine.jpg", title: "Regenerative Medicine", desc: "PRP therapy, stem cell treatments, and viscosupplementation for non-surgical management of joint conditions." }
      ],
      whyChoose: [
        {
          icon: "images/Advanced Techniques.jpg",
          title: "Advanced Techniques",
          desc: "Fellowship-trained in minimally invasive arthroscopic and robotic-assisted procedures for faster recovery."
        },
        {
          icon: "images/Comprehensive Care.jpg",
          title: "Comprehensive Care",
          desc: "From initial diagnosis through complete rehabilitation â€” a seamless, coordinated treatment experience."
        },
        {
          icon: "images/Personalized Plans.jpg",
          title: "Personalized Plans",
          desc: "Every patient receives an individualized approach based on their unique condition, goals, and lifestyle."
        },
        {
          icon: "images/State-of-the-Art Facility.jpg",
          title: "State-of-the-Art Facility",
          desc: "Equipped with the latest surgical technology including robotic systems and advanced imaging."
        },
        {
          icon: "images/Rapid Recovery.webp",
          title: "Rapid Recovery",
          desc: "Evidence-based enhanced recovery programs designed to get you back to your life faster."
        },
        {
          icon: "images/Continuous Education.jpg",
          title: "Continuous Education",
          desc: "Ongoing training in the latest techniques, attending international conferences, and published research."
        }
      ],
      testimonials: [
        { name: "Sarah M.", initials: "SM", rating: 5, text: "Dr. Reid performed my total knee replacement and the results have been incredible. I went from barely being able to walk to hiking 5 miles just 4 months post-surgery. His team was supportive every step of the way.", condition: "Total Knee Replacement", verified: true },
        { name: "James T.", initials: "JT", rating: 5, text: "As a competitive cyclist, my ACL tear felt like the end of my career. Dr. Reid not only repaired my knee but gave me a detailed recovery plan. I'm back to racing and stronger than before.", condition: "ACL Reconstruction", verified: true },
        { name: "Maria G.", initials: "MG", rating: 5, text: "I was terrified of shoulder surgery, but Dr. Reid took the time to explain everything and made me feel at ease. The minimally invasive approach meant less pain and a quicker recovery.", condition: "Rotator Cuff Repair", verified: true },
        { name: "Robert K.", initials: "RK", rating: 5, text: "After years of chronic hip pain limiting my daily activities, Dr. Reid recommended a hip replacement. The surgery went smoothly and I was walking with minimal assistance within days.", condition: "Hip Replacement", verified: true },
        { name: "Emily W.", initials: "EW", rating: 5, text: "My sports injury seemed complicated, but Dr. Reid's expertise in arthroscopic surgery made the procedure minimally invasive. I appreciated his honest assessment and conservative approach.", condition: "Meniscus Repair", verified: true },
        { name: "David L.", initials: "DL", rating: 4, text: "Dr. Reid treated my complex wrist fracture with excellent results. His attention to detail during follow-up appointments showed genuine care for my recovery. Highly recommend.", condition: "Wrist Fracture Repair", verified: true }
      ],
      timeline: [
        { year: "2006-2010", title: "Medical School", subtitle: "Johns Hopkins University School of Medicine â€” Doctor of Medicine (M.D.)" },
        { year: "2010-2015", title: "Orthopedic Surgery Residency", subtitle: "Hospital for Special Surgery, New York â€” Orthopedic Surgery" },
        { year: "2015-2016", title: "Sports Medicine Fellowship", subtitle: "Cleveland Clinic â€” Sports Medicine & Joint Reconstruction" },
        { year: "2016-2017", title: "Advanced Fellowship", subtitle: "Andrews Sports Medicine & Orthopaedic Center â€” Complex Knee & Shoulder Surgery" },
        { year: "2017-Present", title: "Attending Orthopedic Surgeon", subtitle: "Austin Orthopedic Institute â€” Sports Medicine & Joint Replacement" }
      ],
      certifications: [
        "American Board of Orthopaedic Surgery (ABOS) â€” Board Certified",
        "Certificate of Added Qualification in Sports Medicine",
        "Texas Medical License â€” Active",
        "DEA Registration â€” Active",
        "Basic & Advanced Life Support Certified"
      ],
      memberships: [
        "American Academy of Orthopaedic Surgeons (AAOS)",
        "American Orthopaedic Society for Sports Medicine (AOSSM)",
        "Arthroscopy Association of North America (AANA)",
        "Texas Orthopaedic Association",
        "American Medical Association (AMA)"
      ],
      awards: [
        { year: "2024", title: "Top Orthopedic Surgeon â€” Texas Monthly" },
        { year: "2023", title: "Patient's Choice Award â€” Vitals.com" },
        { year: "2022", title: "Best Orthopedic Practice â€” Austin Chronicle" },
        { year: "2021", title: "Excellence in Minimally Invasive Surgery Award" },
        { year: "2020", title: "Published: 'Advances in ACL Reconstruction Techniques' â€” JBJS" }
      ],
      services: [
        { icon: "ðŸ¦µ", title: "Joint Replacement Surgery", desc: "Total and partial replacement of hip, knee, and shoulder joints using the latest implant technology and computer-assisted navigation.", details: ["Total Knee Replacement", "Partial Knee Replacement", "Total Hip Replacement", "Anterior Hip Replacement", "Total Shoulder Replacement", "Revision Joint Surgery"] },
        { icon: "ðŸƒ", title: "Sports Medicine", desc: "Comprehensive diagnosis and treatment of sports-related injuries with emphasis on returning athletes to peak performance.", details: ["ACL Reconstruction", "Meniscus Repair", "Rotator Cuff Repair", "Labrum Repair", "Tommy John Surgery", "Cartilage Restoration"] },
        { icon: "ðŸ”­", title: "Arthroscopic Surgery", desc: "Minimally invasive procedures using small incisions and specialized cameras for faster recovery and less pain.", details: ["Knee Arthroscopy", "Shoulder Arthroscopy", "Hip Arthroscopy", "Elbow Arthroscopy", "Ankle Arthroscopy", "Wrist Arthroscopy"] },
        { icon: "ðŸ¦´", title: "Fracture & Trauma Care", desc: "Expert management of simple and complex fractures, from emergency stabilization through complete healing.", details: ["Open Fracture Repair", "Internal Fixation (ORIF)", "External Fixation", "Malunion/Nonunion Repair", "Pelvic Fractures", "Pediatric Fractures"] },
        { icon: "âœ‹", title: "Hand & Wrist Surgery", desc: "Specialized treatment for conditions affecting the hand, wrist, and forearm including carpal tunnel and fractures.", details: ["Carpal Tunnel Release", "Trigger Finger Release", "Wrist Fracture Repair", "De Quervain's Release", "Dupuytren's Contracture", "Ganglion Cyst Removal"] },
        { icon: "ðŸ§¬", title: "Non-Surgical Treatments", desc: "Conservative treatment options including injections, physical therapy, bracing, and regenerative medicine.", details: ["PRP Therapy", "Corticosteroid Injections", "Viscosupplementation", "Physical Therapy Programs", "Custom Bracing", "Stem Cell Therapy"] }
      ],
      technology: [
        { icon: "https://images.unsplash.com/photo-1579154273821-ad99edf5ad89?q=80&w=400&fit=crop", title: "Robotic-Assisted Surgery", desc: "Mako SmartRoboticsâ„¢ for precise joint replacement with real-time 3D planning." },
        { icon: "https://images.unsplash.com/photo-1576086213369-97a306d36557?q=80&w=400&fit=crop", title: "HD Arthroscopy", desc: "4K camera systems for unparalleled visualization during minimally invasive procedures." },
        { icon: "https://images.unsplash.com/photo-1551076805-e1869033e561?q=80&w=400&fit=crop", title: "Computer Navigation", desc: "Intraoperative navigation for optimal implant positioning and alignment." },
        { icon: "https://images.unsplash.com/photo-1582719471384-894fbb16e024?q=80&w=400&fit=crop", title: "Regenerative Biologics", desc: "Advanced PRP processing and stem cell isolation for biological healing solutions." }
      ],
      caseResults: [
        { condition: "Severe Knee Osteoarthritis", age: "62-year-old active retiree", treatment: "Total Knee Replacement (Robotic-Assisted)", quote: "I'm back to playing golf and walking my dog without any pain. I wish I had done this sooner.", timeline: "Full recovery: 12 weeks" },
        { condition: "Complete ACL Tear", age: "24-year-old collegiate soccer player", treatment: "ACL Reconstruction with Patellar Tendon Autograft", quote: "Dr. Reid got me back on the field in time for my senior season. His rehab protocol was detailed and effective.", timeline: "Return to sport: 8 months" },
        { condition: "Massive Rotator Cuff Tear", age: "55-year-old construction worker", treatment: "Arthroscopic Rotator Cuff Repair", quote: "I was worried I wouldn't be able to work again. Six months later, I'm back full duty with no pain.", timeline: "Full recovery: 6 months" },
        { condition: "Hip Avascular Necrosis", age: "48-year-old marathon runner", treatment: "Total Hip Replacement (Anterior Approach)", quote: "The anterior approach meant I was walking the day after surgery. Incredible. I'm training for my next marathon.", timeline: "Return to running: 4 months" },
        { condition: "Complex Tibial Plateau Fracture", age: "34-year-old from skiing accident", treatment: "Open Reduction Internal Fixation (ORIF)", quote: "It was a devastating injury, but Dr. Reid's surgical skill gave me a fully functional knee again.", timeline: "Full weight-bearing: 10 weeks" },
        { condition: "Bilateral Knee Osteoarthritis", age: "70-year-old retired teacher", treatment: "Staged Bilateral Total Knee Replacement", quote: "Both knees done within 3 months of each other. I'm now volunteering at the school again and gardening every day.", timeline: "Full recovery: 16 weeks total" }
      ],
      articles: [
        { title: "Understanding ACL Tears: Complete Guide", excerpt: "Learn about the anatomy of the ACL, how tears occur, diagnosis methods, and the latest treatment options.", category: "Sports Medicine", readTime: "8 min", date: "Jan 15, 2025" },
        { title: "When Is It Time for a Knee Replacement?", excerpt: "Discover the signs that indicate conservative treatments are no longer enough and joint replacement may be your best option.", category: "Joint Replacement", readTime: "6 min", date: "Feb 3, 2025" },
        { title: "Recovering from Rotator Cuff Surgery", excerpt: "A comprehensive timeline of what to expect after rotator cuff repair, from the first week through full recovery.", category: "Shoulder", readTime: "7 min", date: "Mar 22, 2025" },
        { title: "5 Exercises to Prevent Sports Injuries", excerpt: "Simple but effective exercises to strengthen key muscle groups and prevent common athletic injuries.", category: "Prevention", readTime: "5 min", date: "Apr 10, 2025" },
        { title: "Non-Surgical Options for Arthritis Pain", excerpt: "Explore conservative treatments including injections, physical therapy, and regenerative medicine.", category: "Non-Surgical", readTime: "6 min", date: "May 5, 2025" },
        { title: "What to Expect: Your First Orthopedic Visit", excerpt: "Prepare for your consultation with this guide covering what to bring and questions to ask.", category: "General", readTime: "4 min", date: "Jun 1, 2025" }
      ],
      faqs: [
        { q: "What should I bring to my first appointment?", a: "Please bring your photo ID, insurance card, referral (if required), any relevant imaging (X-rays, MRIs) on disc if available, a list of current medications, and a written summary of your symptoms and medical history." },
        { q: "How long does a typical orthopedic consultation take?", a: "Initial consultations typically last 30-45 minutes. This includes a thorough history review, physical examination, imaging review, and a detailed discussion of diagnosis and treatment options." },
        { q: "Is surgery always necessary?", a: "Absolutely not. Dr. Reid always explores conservative, non-surgical options first, including physical therapy, medications, injections, and lifestyle modifications. Surgery is recommended only when conservative measures fail." },
        { q: "How long is recovery after joint replacement?", a: "Most patients can walk with assistance the day of surgery. Full recovery typically takes 8-12 weeks for knee replacement and 6-8 weeks for hip replacement. Most patients return to normal activities within 3-6 months." },
        { q: "Do you accept my insurance?", a: "We accept most major insurance plans including Medicare, Blue Cross Blue Shield, Aetna, Cigna, UnitedHealthcare, and many others. Please contact our office to verify your specific coverage." },
        { q: "What is minimally invasive surgery?", a: "Minimally invasive surgery uses small incisions (often less than 1 inch) and specialized instruments. Benefits include less pain, smaller scars, faster recovery, and lower infection risk." },
        { q: "How soon can I return to sports after surgery?", a: "This varies by procedure. ACL reconstruction typically allows return to sport at 6-9 months. Joint replacement patients often return to low-impact activities within 3-4 months. Dr. Reid provides a personalized timeline." },
        { q: "What are the risks of orthopedic surgery?", a: "All surgeries carry some risk including infection, blood clots, nerve injury, and anesthesia complications. Modern techniques have significantly reduced these risks. Dr. Reid discusses all risks thoroughly during your pre-operative consultation." }
      ],
      guides: [
        { icon: "https://images.unsplash.com/photo-1454165205744-3b78555e5572?q=80&w=400&fit=crop", title: "Pre-Operative Preparation Checklist", desc: "Everything you need to do before your surgery, including medications to stop, fasting guidelines, and what to pack." },
        { icon: "https://images.unsplash.com/photo-1505751172876-fa1923c5c528?q=80&w=400&fit=crop", title: "Post-Surgery Recovery Guide", desc: "Comprehensive recovery instructions covering wound care, pain management, activity restrictions, and when to call." },
        { icon: "https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?q=80&w=400&fit=crop", title: "Rehabilitation Exercise Library", desc: "Illustrated exercise guides for post-surgical rehabilitation organized by procedure type and recovery phase." },
        { icon: "https://images.unsplash.com/photo-1504813184591-01574ff81c8d?q=80&w=400&fit=crop", title: "Questions to Ask Your Surgeon", desc: "A comprehensive list of important questions to ask during your consultation to make an informed decision." },
        { icon: "https://images.unsplash.com/photo-1584308666744-24d5dcba55f2?q=80&w=400&fit=crop", title: "Pain Management Strategies", desc: "Evidence-based approaches to managing post-operative pain including medications, ice therapy, and relaxation." },
        { icon: "https://images.unsplash.com/photo-1552674605-db6ffd4facb5?q=80&w=400&fit=crop", title: "Return to Activity Guidelines", desc: "Stage-by-stage guidelines for safely returning to work, exercise, and sports after orthopedic surgery." }
      ],
      settings: {
        primaryColor: "#B8860B",
        siteName: "Dr. Moaz Saleem",
        heroFrameCount: 121,
        heroFrameFolder: "seq2",
        heroFramePrefix: "ezgif-frame-",
        heroFrameExtension: "webp"
      }
    };

    // Load / Save Data
    function loadData() {
      const saved = localStorage.getItem('orthoSiteData');
      let data = saved ? JSON.parse(saved) : JSON.parse(JSON.stringify(defaultData));

      // Force update sections that were recently upgraded with HD images
      data.specialties = JSON.parse(JSON.stringify(defaultData.specialties));
      data.whyChoose = JSON.parse(JSON.stringify(defaultData.whyChoose));
      data.technology = JSON.parse(JSON.stringify(defaultData.technology));
      data.guides = JSON.parse(JSON.stringify(defaultData.guides));
      data.services = JSON.parse(JSON.stringify(defaultData.services));

      data.settings = JSON.parse(JSON.stringify(defaultData.settings));
      return data;
    }

    function saveData(data) {
      localStorage.setItem('orthoSiteData', JSON.stringify(data));
    }

    let siteData = loadData();

    // ========================================
    // HERO SCROLL ANIMATION
    // ========================================
    class HeroAnimation {
      constructor() {
        this.canvas = document.getElementById('heroCanvas');
        this.ctx = this.canvas.getContext('2d');
        this.frameCounter = document.getElementById('heroFrameCounter');
        this.phases = document.querySelectorAll('.hero-phase');
        this.preloader = document.getElementById('preloader');

        this.frameCount = siteData.settings.heroFrameCount;
        this.images = [];
        this.currentFrame = { index: 0 };
        this.loadedCount = 0;
        this.isStarted = false;
        this.dpr = window.innerWidth < 768 ? 1 : Math.min(window.devicePixelRatio || 1, 2);

        document.body.style.overflow = 'hidden';
        this.init();
      }

      getFramePath(index) {
        const num = String(index + 1).padStart(3, '0');
        const s = siteData.settings;
        // Hugging Face prefers relative paths without the leading dot for static assets
        return `${s.heroFrameFolder}/${s.heroFramePrefix}${num}.${s.heroFrameExtension}`;
      }

      init() {
        this.resize();
        window.addEventListener('resize', () => this.resize());
        this.preloadFrames();
      }

      resize() {
        const w = window.innerWidth;
        const h = window.innerHeight;

        // Reduce the resolution for mobile to ensure high FPS
        this.dpr = window.innerWidth < 768 ? 1 : Math.min(window.devicePixelRatio || 1, 2);

        this.canvas.width = w * this.dpr;
        this.canvas.height = h * this.dpr;
        this.canvas.style.width = w + 'px';
        this.canvas.style.height = h + 'px';
        this.ctx.setTransform(this.dpr, 0, 0, this.dpr, 0, 0);

        // Maintain aspect ratio
        const imgRatio = 16 / 9;
        const canvasRatio = w / h;
        let drawW, drawH;

        if (canvasRatio > imgRatio) {
          drawW = w;
          drawH = w / imgRatio;
        } else {
          drawH = h;
          drawW = h * imgRatio;
        }

        this.drawDimensions = {
          x: (w - drawW) / 2,
          y: (h - drawH) / 2,
          w: drawW,
          h: drawH
        };

        if (this.images[0]) this.drawFrame(0);
      }

      preloadFrames() {
        const total = this.frameCount;
        this.loadedCount = 0;
        this.retries = {};

        const loadImg = (i) => {
          const img = new Image();
          img.src = this.getFramePath(i);

          img.onload = () => {
            this.images[i] = img;
            this.onFrameLoaded();
          };

          img.onerror = () => {
            console.warn(`Frame ${i + 1} failed to load. Skipping.`);

            // CRITICAL: Mark it as loaded anyway so the bar keeps moving
            this.loadedCount++;

            // Update the visual progress bar
            const percent = Math.min((this.loadedCount / total) * 100, 100);
            const bar = document.querySelector('.preloader-bar-fill');
            if (bar) bar.style.width = `${percent}%`;

            // If we have processed enough frames (success OR fail), start the site
            // (This ensures the user never gets stuck on the logo)
            const criticalBuffer = Math.floor(total * 0.7); // 70% of frames
            if (this.loadedCount >= criticalBuffer && !this.isStarted) {
              console.log("Starting experience (with skipped frames)...");
              this.startExperience();
            }
          };
        };

        for (let i = 0; i < total; i++) {
          loadImg(i);
        }

        // Failsafe timeout: Start experience if net is slow but some frames exist
        setTimeout(() => {
          if (!this.isStarted && this.loadedCount > 10) {
            console.warn("Preload timeout fired. Starting experience with partial frames.");
            this.startExperience();
          }
        }, 30000);
      }

      onFrameLoaded() {
        this.loadedCount++;
        const pct = Math.min((this.loadedCount / this.frameCount) * 100, 100);
        const bar = document.querySelector('.preloader-bar-fill');
        if (bar) bar.style.width = pct + '%';

        // Wait for ALL frames to load for a seamless production experience
        if (this.loadedCount >= this.frameCount && !this.isStarted) {
          this.startExperience();
        }
      }

      startExperience() {
        if (this.isStarted) return;
        this.isStarted = true;

        if (this.preloader) {
          this.preloader.classList.add('hidden');
          setTimeout(() => {
            document.body.style.overflow = '';
          }, 600);
        }

        this.initScrollTrigger();
        this.drawFrame(0);
      }

      initScrollTrigger() {
        gsap.registerPlugin(ScrollTrigger);

        gsap.to(this.currentFrame, {
          index: this.frameCount - 1,
          snap: "index",
          ease: "none",
          scrollTrigger: {
            trigger: "#animation-container",
            start: "top top",
            end: "+=250%",
            scrub: 0.8,
            pin: true,
            anticipatePin: 1,
            onUpdate: () => {
              this.drawFrame(this.currentFrame.index);
              this.updatePhases();
              this.updateFrameCounter();
            }
          }
        });
      }

      updatePhases() {
        const progress = this.currentFrame.index / (this.frameCount - 1);

        this.phases.forEach(p => p.classList.remove('active'));

        if (progress < 0.28) {
          if (this.phases[0]) this.phases[0].classList.add('active');
        } else if (progress >= 0.28 && progress < 0.62) {
          if (this.phases[1]) this.phases[1].classList.add('active');
        } else if (progress >= 0.62) {
          if (this.phases[2]) this.phases[2].classList.add('active');
        }
      }

      updateFrameCounter() {
        if (this.frameCounter) {
          this.frameCounter.textContent = `Frame ${Math.round(this.currentFrame.index) + 1} / ${this.frameCount}`;
        }
      }

      drawFrame(index) {
        const frameIndex = Math.round(Math.max(0, Math.min(index, this.frameCount - 1)));

        // Find nearest available frame if the target one isn't loaded yet
        let img = this.images[frameIndex];
        if (!img) {
          // Search backwards then forwards for the closest loaded frame
          for (let offset = 1; offset < this.frameCount; offset++) {
            if (frameIndex - offset >= 0 && this.images[frameIndex - offset]) {
              img = this.images[frameIndex - offset];
              break;
            }
            if (frameIndex + offset < this.frameCount && this.images[frameIndex + offset]) {
              img = this.images[frameIndex + offset];
              break;
            }
          }
        }

        if (!img) return;

        const d = this.drawDimensions;
        if (d) {
          this.ctx.clearRect(0, 0, this.canvas.width / this.dpr, this.canvas.height / this.dpr);
          this.ctx.drawImage(img, d.x, d.y, d.w, d.h);
        }
      }
    }

    // ========================================
    // ROUTER
    // ========================================
    function goTo(page) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      const target = document.getElementById('page-' + page);
      if (target) target.classList.add('active');

      document.querySelectorAll('.nav-links a').forEach(a => {
        a.classList.toggle('active', a.dataset.page === page);
      });

      window.scrollTo({ top: 0, behavior: 'smooth' });

      // Re-trigger reveals after page switch
      setTimeout(() => triggerReveals(), 150);
      return false;
    }

    // ========================================
    // MOBILE NAV
    // ========================================
    function toggleMobileNav() {
      document.getElementById('mobileNav').classList.toggle('open');
    }

    // ========================================
    // SCROLL EFFECTS
    // ========================================
    function triggerReveals() {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.08, rootMargin: '0px 0px -40px 0px' });

      document.querySelectorAll('.reveal:not(.visible)').forEach(el => {
        observer.observe(el);
      });
    }

    // Nav scroll effect
    let lastScrollY = 0;
    window.addEventListener('scroll', () => {
      const nav = document.getElementById('mainNav');
      nav.classList.toggle('scrolled', window.scrollY > 50);
      lastScrollY = window.scrollY;
    }, { passive: true });

    // ========================================
    // TOAST
    // ========================================
    function showToast(message) {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.style.opacity = '1';
      toast.style.transform = 'translateX(0)';
      clearTimeout(toast._timeout);
      toast._timeout = setTimeout(() => {
        toast.style.opacity = '0';
        toast.style.transform = 'translateX(120px)';
      }, 4000);
    }

    // ========================================
    // RENDER FUNCTIONS
    // ========================================

    function renderSpecialties() {
      const grid = document.getElementById('specialtiesGrid');
      if (!grid) return;
      grid.innerHTML = siteData.specialties.map((s, i) => `
        <div class="card reveal reveal-delay-${(i % 3) + 1}">
          <div class="card-icon">
             <img src="${s.icon}" alt="${s.title}" loading="lazy">
          </div>
          <div class="card-title">${s.title}</div>
          <div class="card-text">${s.desc}</div>
          <a class="card-link" href="#" onclick="goTo('services');return false">Learn More â†’</a>
        </div>
      `).join('');
    }

    function renderWhyChoose() {
      const grid = document.getElementById('whyChooseGrid');
      if (!grid) return;
      grid.innerHTML = siteData.whyChoose.map((w, i) => `
        <div class="card why-card reveal reveal-delay-${(i % 3) + 1}">
          <div class="card-icon">
            <img src="${w.icon}" alt="${w.title}" loading="lazy">
          </div>
          <div class="card-title">${w.title}</div>
          <div class="card-text">${w.desc}</div>
        </div>
      `).join('');
    }

    function renderTestimonials() {
      const grid = document.getElementById('testimonialsGrid');
      if (!grid) return;
      grid.innerHTML = siteData.testimonials.slice(0, 3).map((t, i) => `
        <div class="testimonial-card reveal reveal-delay-${i + 1}">
          <div class="testimonial-stars">${'â˜…'.repeat(t.rating)}${'â˜†'.repeat(5 - t.rating)}</div>
          <div class="testimonial-text">"${t.text}"</div>
          <div class="testimonial-author">
            <div class="testimonial-avatar">${t.initials}</div>
            <div>
              <div class="testimonial-name">${t.name} ${t.verified ? '<span style="color:var(--success);font-size:.7rem;margin-left:4px">âœ“ Verified</span>' : ''}</div>
              <div class="testimonial-condition">${t.condition}</div>
            </div>
          </div>
        </div>
      `).join('');
    }

    function renderTimeline() {
      const container = document.getElementById('timelineContainer');
      if (!container) return;
      container.innerHTML = siteData.timeline.map((t, i) => `
        <div class="timeline-item reveal reveal-delay-${(i % 3) + 1}">
          <div class="timeline-year">${t.year}</div>
          <div class="timeline-title">${t.title}</div>
          <div class="timeline-subtitle">${t.subtitle}</div>
        </div>
      `).join('');
    }

    function renderCertifications() {
      const container = document.getElementById('certificationsContainer');
      if (!container) return;
      let html = '<div style="margin-bottom:36px">';
      html += '<h4 style="font-size:.92rem;font-weight:700;margin-bottom:16px;color:var(--primary);display:flex;align-items:center;gap:8px"><span style="width:6px;height:6px;background:var(--primary);border-radius:50%;display:inline-block"></span> Board Certifications</h4>';
      html += siteData.certifications.map(c => `
        <div style="display:flex;align-items:flex-start;gap:12px;margin-bottom:10px;padding:14px 18px;background:var(--bg-alt);border-radius:var(--radius-sm);font-size:.9rem;color:var(--text);border:1px solid var(--border-light);transition:var(--transition-fast)" onmouseover="this.style.borderColor='var(--border-gold)'" onmouseout="this.style.borderColor='var(--border-light)'">
          <span style="color:var(--success);flex-shrink:0;margin-top:2px;font-size:.85rem">âœ“</span>
          <span>${c}</span>
        </div>
      `).join('');
      html += '</div><div>';
      html += '<h4 style="font-size:.92rem;font-weight:700;margin-bottom:16px;color:var(--primary);display:flex;align-items:center;gap:8px"><span style="width:6px;height:6px;background:var(--primary);border-radius:50%;display:inline-block"></span> Professional Memberships</h4>';
      html += siteData.memberships.map(m => `
        <div style="display:flex;align-items:flex-start;gap:12px;margin-bottom:10px;padding:14px 18px;background:var(--bg-alt);border-radius:var(--radius-sm);font-size:.9rem;color:var(--text);border:1px solid var(--border-light);transition:var(--transition-fast)" onmouseover="this.style.borderColor='var(--border-gold)'" onmouseout="this.style.borderColor='var(--border-light)'">
          <span style="color:var(--primary);flex-shrink:0;margin-top:2px">
            <svg style="width:16px;height:16px;fill:currentColor" viewBox="0 0 24 24"><path d="M12 7V3H2V21H22V7H12M10 19H4V17H10V19M10 15H4V13H10V15M10 11H4V9H10V11M10 7H4V5H10V7M20 19H12V17H20V19M20 15H12V13H20V15M20 11H12V9H20V11Z"/></svg>
          </span>
          <span>${m}</span>
        </div>
      `).join('');
      html += '</div>';
      container.innerHTML = html;
    }

    function renderAwards() {
      const container = document.getElementById('awardsContainer');
      if (!container) return;
      container.innerHTML = siteData.awards.map((a, i) => `
        <div class="reveal reveal-delay-${(i % 3) + 1}" style="display:flex;align-items:flex-start;gap:16px;margin-bottom:16px;padding:20px;background:var(--bg-alt);border-radius:var(--radius-sm);transition:var(--transition);border:1px solid var(--border-light);cursor:default" onmouseover="this.style.borderColor='var(--border-gold)';this.style.boxShadow='var(--shadow-gold)';this.style.transform='translateX(4px)'" onmouseout="this.style.borderColor='var(--border-light)';this.style.boxShadow='none';this.style.transform='translateX(0)'">
          <div style="width:48px;height:48px;background:linear-gradient(135deg,rgba(245,158,11,.12),rgba(245,158,11,.04));border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0;font-size:1.2rem;border:1px solid rgba(245,158,11,.15)">
            <svg style="width:24px;height:24px;fill:var(--primary)" viewBox="0 0 24 24"><path d="M18,2H6A2,2,0,0,0,4,4v7a8,8,0,0,0,8,8h0a8,8,0,0,0,8,-8V4A2,2,0,0,0,18,2Zm0,9a6,6,0,0,1,-6,6h0a6,6,0,0,1,-6,-6V4H18ZM10,21h4v2H10Z"/></svg>
          </div>
          <div>
            <div style="font-size:.72rem;font-weight:700;color:var(--primary);text-transform:uppercase;letter-spacing:.08em;margin-bottom:4px">${a.year}</div>
            <div style="font-size:.95rem;font-weight:600;color:var(--text-bright);line-height:1.4">${a.title}</div>
          </div>
        </div>
      `).join('');
    }

    function renderServices() {
      const grid = document.getElementById('servicesGrid');
      if (!grid) return;
      grid.innerHTML = siteData.services.map((s, i) => `
        <div class="card service-card reveal reveal-delay-${(i % 3) + 1}">
          <div class="service-card-img">
            <img src="${serviceImages[i % serviceImages.length]}" alt="${s.title}"
              onerror="this.style.display='none';this.parentElement.innerHTML='<div style=\\'font-size:3.5rem;position:relative;z-index:2\\'>${s.icon}</div>'"
              loading="lazy">
            <div class="service-overlay"></div>
          </div>
          <div class="service-card-body">
            <h3>${s.title}</h3>
            <p>${s.desc}</p>
            ${s.details ? `
              <div style="margin-top:14px;display:flex;flex-wrap:wrap;gap:0">
                ${s.details.map(d => `<span class="service-tag">${d}</span>`).join('')}
              </div>
            ` : ''}
            <a class="card-link" href="#" onclick="goTo('contact');return false">Schedule Consultation â†’</a>
          </div>
        </div>
      `).join('');
    }

    function renderTechnology() {
      const grid = document.getElementById('techGrid');
      if (!grid) return;
      grid.innerHTML = siteData.technology.map((t, i) => `
        <div class="card why-card reveal reveal-delay-${(i % 4) + 1}">
          <div class="card-icon">
            <img src="${t.icon}" alt="${t.title}" loading="lazy">
          </div>
          <div class="card-title">${t.title}</div>
          <div class="card-text">${t.desc}</div>
        </div>
      `).join('');
    }

    function renderResults() {
      const grid = document.getElementById('resultsGrid');
      if (!grid) return;
      grid.innerHTML = siteData.caseResults.map((r, i) => `
        <div class="card result-card reveal reveal-delay-${(i % 2) + 1}">
          <div class="result-imgs">
            <div class="result-img">
              <span class="img-label">Before</span>
              <img src="${resultImages[i % resultImages.length][0]}" alt="Pre-operative"
                onerror="this.style.display='none';this.parentElement.innerHTML+='<span style=\\'position:relative;z-index:1;font-size:2rem\\'>ðŸ¦´ Pre-Op</span>'"
                loading="lazy">
            </div>
            <div class="result-img">
              <span class="img-label">After</span>
              <img src="${resultImages[i % resultImages.length][1]}" alt="Post-operative"
                onerror="this.style.display='none';this.parentElement.innerHTML+='<span style=\\'position:relative;z-index:1;font-size:2rem\\'>ðŸ¦´ Post-Op</span>'"
                loading="lazy">
            </div>
          </div>
          <div class="result-body">
            <div class="result-condition">${r.condition}</div>
            <div style="font-size:.83rem;color:var(--text-muted);margin-bottom:8px">${r.age}</div>
            <div class="result-treatment">${r.treatment}</div>
            <div class="result-quote">"${r.quote}"</div>
            <div style="margin-top:14px;display:flex;align-items:center;gap:8px">
              <span style="background:rgba(16,185,129,.08);color:var(--success);padding:5px 12px;border-radius:var(--radius-full);font-weight:600;font-size:.78rem;border:1px solid rgba(16,185,129,.15)">âœ“ ${r.timeline}</span>
            </div>
          </div>
        </div>
      `).join('');
    }

    function renderArticles() {
      const grid = document.getElementById('articlesGrid');
      if (!grid) return;
      grid.innerHTML = siteData.articles.map((a, i) => `
        <div class="card reveal reveal-delay-${(i % 3) + 1}" style="padding:0;overflow:hidden">
          <div style="height:180px;position:relative;overflow:hidden">
            <img src="${articleImages[i % articleImages.length]}" alt="${a.title}"
              style="width:100%;height:100%;object-fit:cover;transition:transform .6s var(--ease-out)"
              onmouseover="this.style.transform='scale(1.05)'"
              onmouseout="this.style.transform='scale(1)'"
              onerror="this.style.display='none';this.parentElement.style.background='linear-gradient(135deg,var(--bg-alt),var(--secondary))';this.parentElement.innerHTML='<div style=\\'display:flex;align-items:center;justify-content:center;height:100%;font-size:2.5rem\\'>ðŸ“„</div>'"
              loading="lazy">
            <span style="position:absolute;top:14px;right:14px;background:linear-gradient(135deg,var(--primary),var(--primary-dark));color:#fff;padding:5px 14px;border-radius:var(--radius-full);font-size:.7rem;font-weight:600;letter-spacing:.03em;z-index:2">${a.category}</span>
            <div style="position:absolute;inset:0;background:linear-gradient(180deg,transparent 50%,rgba(10,14,23,.6) 100%);pointer-events:none"></div>
          </div>
          <div style="padding:28px">
            <div style="display:flex;align-items:center;gap:14px;margin-bottom:12px;font-size:.78rem;color:var(--text-muted)">
              <span style="display:flex;align-items:center;gap:4px">
                <svg style="width:14px;height:14px;fill:currentColor" viewBox="0 0 24 24"><path d="M19,4H18V2H16V4H8V2H6V4H5A2,2,0,0,0,3,6V20A2,2,0,0,0,5,22H19A2,2,0,0,0,21,20V6A2,2,0,0,0,19,4M19,20H5V10H19V20M19,8H5V6H19V8Z"/></svg>
                ${a.date}
              </span>
              <span style="display:flex;align-items:center;gap:4px">
                <svg style="width:14px;height:14px;fill:currentColor" viewBox="0 0 24 24"><path d="M12,2A10,10,0,1,0,22,12A10,10,0,0,0,12,2M12,20A8,8,0,1,1,20,12A8,8,0,0,1,12,20M12.5,7H11V13L16.25,16.15L17,14.92L12.5,12.25V7Z"/></svg>
                ${a.readTime} read
              </span>
            </div>
            <h3 style="font-size:1.05rem;font-weight:700;margin-bottom:10px;color:var(--text-bright);line-height:1.45">${a.title}</h3>
            <p style="font-size:.9rem;color:var(--text-secondary);line-height:1.75;margin-bottom:18px">${a.excerpt}</p>
            <a class="card-link" href="#">Read Full Article â†’</a>
          </div>
        </div>
      `).join('');
    }

    function renderFAQs() {
      const container = document.getElementById('faqContainer');
      if (!container) return;
      container.innerHTML = siteData.faqs.map((f, i) => `
        <div class="faq-item reveal reveal-delay-${(i % 3) + 1}" onclick="toggleFaq(this)">
          <div class="faq-q">
            <span>${f.q}</span>
            <span class="faq-icon">+</span>
          </div>
          <div class="faq-a">
            <div class="faq-a-inner">${f.a}</div>
          </div>
        </div>
      `).join('');
    }

    function toggleFaq(el) {
      const wasOpen = el.classList.contains('open');
      document.querySelectorAll('.faq-item').forEach(item => item.classList.remove('open'));
      if (!wasOpen) el.classList.add('open');
    }

    function renderGuides() {
      const grid = document.getElementById('guidesGrid');
      if (!grid) return;
      grid.innerHTML = siteData.guides.map((g, i) => `
        <div class="card reveal reveal-delay-${(i % 3) + 1}" style="text-align:center;padding:40px 28px">
        <div class="card-icon" style="margin: 0 auto 24px; width: 120px; height: 120px; border-radius: 50%">
            <img src="${g.icon}" alt="${g.title}" loading="lazy" style="border-radius: 50%">
          </div>
          <div class="card-title">${g.title}</div>
          <div class="card-text">${g.desc}</div>
          <button class="btn btn-outline btn-sm" style="margin-top:24px" onclick="showToast('ðŸ“‹ Download starting...')">Download PDF â†’</button>
        </div>
      `).join('');
    }

    function renderReviewSummary() {
      const container = document.getElementById('reviewSummary');
      if (!container) return;
      const reviews = siteData.testimonials;
      const total = reviews.length;
      const avg = (reviews.reduce((sum, r) => sum + r.rating, 0) / total).toFixed(1);
      const dist = [5, 4, 3, 2, 1].map(star => {
        const count = reviews.filter(r => r.rating === star).length;
        return { star, count, pct: Math.round((count / total) * 100) };
      });

      container.innerHTML = `
        <div class="review-big-score">
          <div class="review-big-number">${avg}</div>
          <div class="review-big-stars">${'â˜…'.repeat(Math.round(avg))}${'â˜†'.repeat(5 - Math.round(avg))}</div>
          <div class="review-big-count">Based on ${total} reviews</div>
        </div>
        <div class="review-bars">
          ${dist.map(d => `
            <div class="review-bar-row">
              <span>${d.star}â˜…</span>
              <div class="review-bar"><div class="review-bar-fill" style="width:${d.pct}%"></div></div>
              <span>${d.count}</span>
            </div>
          `).join('')}
        </div>
        <div style="display:flex;flex-direction:column;gap:10px;min-width:180px">
          <h4 style="font-size:.88rem;font-weight:700;color:var(--text-bright);margin-bottom:4px">Find Us On</h4>
          <a href="#" class="btn btn-outline btn-sm" style="justify-content:flex-start;gap:8px;font-size:.82rem">Google Reviews</a>
          <a href="#" class="btn btn-outline btn-sm" style="justify-content:flex-start;gap:8px;font-size:.82rem">Healthgrades</a>
          <a href="#" class="btn btn-outline btn-sm" style="justify-content:flex-start;gap:8px;font-size:.82rem">Vitals</a>
          <a href="#" class="btn btn-outline btn-sm" style="justify-content:flex-start;gap:8px;font-size:.82rem">RateMDs</a>
        </div>
      `;
    }

    function renderAllReviews() {
      const grid = document.getElementById('allReviewsGrid');
      if (!grid) return;
      grid.innerHTML = siteData.testimonials.map((t, i) => `
        <div class="testimonial-card reveal reveal-delay-${(i % 2) + 1}" style="display:flex;flex-direction:column">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:14px">
            <div class="testimonial-stars">${'â˜…'.repeat(t.rating)}${'â˜†'.repeat(5 - t.rating)}</div>
            ${t.verified ? '<span class="badge badge-success" style="font-size:.7rem">âœ“ Verified Patient</span>' : ''}
          </div>
          <div class="testimonial-text" style="flex:1">"${t.text}"</div>
          <div class="testimonial-author" style="margin-top:auto">
            <div class="testimonial-avatar">${t.initials}</div>
            <div>
              <div class="testimonial-name">${t.name}</div>
              <div class="testimonial-condition">${t.condition}</div>
            </div>
          </div>
        </div>
      `).join('');
    }

    // ========================================
    // CONTACT FORM
    // ========================================
    function handleContactSubmit(e) {
      e.preventDefault();
      const form = e.target;

      let submissions = JSON.parse(localStorage.getItem('contactSubmissions') || '[]');
      const submission = {
        id: Date.now(),
        date: new Date().toISOString(),
        name: form.querySelector('input[type="text"]').value,
        phone: form.querySelector('input[type="tel"]').value,
        email: form.querySelector('input[type="email"]').value,
        contactMethod: form.querySelectorAll('select')[0].value,
        reason: form.querySelectorAll('select')[1].value,
        message: form.querySelector('textarea').value,
        status: 'new'
      };
      submissions.push(submission);
      localStorage.setItem('contactSubmissions', JSON.stringify(submissions));

      form.reset();
      showToast('âœ… Consultation request submitted! We\'ll contact you within 24 hours.');
    }

    // ========================================
    // ADMIN DASHBOARD
    // ========================================
    function openAdmin() {
      document.getElementById('adminOverlay').classList.add('open');
      document.body.style.overflow = 'hidden';
      showAdminSection('dashboard');
    }

    function closeAdmin() {
      document.getElementById('adminOverlay').classList.remove('open');
      document.body.style.overflow = '';
    }

    function showAdminSection(section) {
      document.querySelectorAll('.admin-nav a').forEach(a => a.classList.remove('active'));
      if (event && event.target) {
        const link = event.target.closest('a');
        if (link) link.classList.add('active');
      }

      const content = document.getElementById('adminContent');
      const title = document.getElementById('adminPageTitle');

      switch (section) {
        case 'dashboard': renderAdminDashboard(content, title); break;
        case 'profile': renderAdminProfile(content, title); break;
        case 'services-admin': renderAdminServices(content, title); break;
        case 'testimonials-admin': renderAdminTestimonials(content, title); break;
        case 'results-admin': renderAdminResults(content, title); break;
        case 'articles-admin': renderAdminArticles(content, title); break;
        case 'faq-admin': renderAdminFAQs(content, title); break;
        case 'settings': renderAdminSettings(content, title); break;
      }
    }

    // ---- Admin Dashboard ----
    function renderAdminDashboard(content, title) {
      title.textContent = 'Dashboard';
      const submissions = JSON.parse(localStorage.getItem('contactSubmissions') || '[]');
      const newSubmissions = submissions.filter(s => s.status === 'new').length;

      content.innerHTML = `
        <div class="admin-grid">
          <div class="admin-stat">
            <div class="admin-stat-icon blue">ðŸ¥</div>
            <div><div class="admin-stat-number">${siteData.services.length}</div><div class="admin-stat-label">Services Listed</div></div>
          </div>
          <div class="admin-stat">
            <div class="admin-stat-icon green">â­</div>
            <div><div class="admin-stat-number">${siteData.testimonials.length}</div><div class="admin-stat-label">Testimonials</div></div>
          </div>
          <div class="admin-stat">
            <div class="admin-stat-icon purple">ðŸ“ˆ</div>
            <div><div class="admin-stat-number">${siteData.caseResults.length}</div><div class="admin-stat-label">Case Results</div></div>
          </div>
          <div class="admin-stat">
            <div class="admin-stat-icon orange">ðŸ“©</div>
            <div><div class="admin-stat-number">${newSubmissions}</div><div class="admin-stat-label">New Inquiries</div></div>
          </div>
        </div>

        <div class="admin-card">
          <h3>ðŸ“© Recent Contact Submissions</h3>
          ${submissions.length === 0 ? '<p style="color:var(--text-secondary);font-size:.9rem">No contact submissions yet.</p>' : `
            <div style="overflow-x:auto">
            <table class="admin-table">
              <thead>
                <tr><th>Date</th><th>Name</th><th>Email</th><th>Reason</th><th>Status</th><th>Actions</th></tr>
              </thead>
              <tbody>
                ${submissions.slice(-10).reverse().map(s => `
                  <tr>
                    <td>${new Date(s.date).toLocaleDateString()}</td>
                    <td><strong>${s.name}</strong></td>
                    <td>${s.email}</td>
                    <td>${s.reason}</td>
                    <td><span class="badge ${s.status === 'new' ? 'badge-warning' : 'badge-success'}">${s.status === 'new' ? 'New' : 'Reviewed'}</span></td>
                    <td class="actions">
                      <button class="edit" onclick="viewSubmission(${s.id})">View</button>
                      <button class="edit" onclick="markReviewed(${s.id})">âœ“</button>
                      <button class="delete" onclick="deleteSubmission(${s.id})">âœ•</button>
                    </td>
                  </tr>
                `).join('')}
              </tbody>
            </table>
            </div>
          `}
        </div>

        <div class="admin-card">
          <h3>ðŸ“Š Content Overview</h3>
          <div class="admin-grid">
            <div style="padding:22px;background:var(--bg-alt);border-radius:var(--radius-sm);text-align:center;border:1px solid var(--border-light)">
              <div style="font-size:2rem;font-weight:800;color:var(--primary)">${siteData.articles.length}</div>
              <div style="font-size:.82rem;color:var(--text-secondary);margin-top:4px">Articles</div>
            </div>
            <div style="padding:22px;background:var(--bg-alt);border-radius:var(--radius-sm);text-align:center;border:1px solid var(--border-light)">
              <div style="font-size:2rem;font-weight:800;color:var(--primary)">${siteData.faqs.length}</div>
              <div style="font-size:.82rem;color:var(--text-secondary);margin-top:4px">FAQs</div>
            </div>
            <div style="padding:22px;background:var(--bg-alt);border-radius:var(--radius-sm);text-align:center;border:1px solid var(--border-light)">
              <div style="font-size:2rem;font-weight:800;color:var(--primary)">${siteData.guides.length}</div>
              <div style="font-size:.82rem;color:var(--text-secondary);margin-top:4px">Guides</div>
            </div>
            <div style="padding:22px;background:var(--bg-alt);border-radius:var(--radius-sm);text-align:center;border:1px solid var(--border-light)">
              <div style="font-size:2rem;font-weight:800;color:var(--primary)">${siteData.timeline.length}</div>
              <div style="font-size:.82rem;color:var(--text-secondary);margin-top:4px">Timeline</div>
            </div>
          </div>
        </div>

        <div class="admin-card">
          <h3>ðŸ”§ Quick Actions</h3>
          <div style="display:flex;gap:12px;flex-wrap:wrap">
            <button class="btn btn-primary btn-sm" onclick="showAdminSection('profile')">Edit Profile</button>
            <button class="btn btn-outline btn-sm" onclick="showAdminSection('services-admin')">Manage Services</button>
            <button class="btn btn-outline btn-sm" onclick="showAdminSection('testimonials-admin')">Manage Reviews</button>
            <button class="btn btn-outline btn-sm" onclick="exportData()">ðŸ“¤ Export Data</button>
            <button class="btn btn-sm" style="background:var(--error);color:#fff" onclick="resetData()">Reset Defaults</button>
          </div>
        </div>
      `;
    }

    // ---- Submission Actions ----
    function viewSubmission(id) {
      const submissions = JSON.parse(localStorage.getItem('contactSubmissions') || '[]');
      const s = submissions.find(sub => sub.id === id);
      if (!s) return;

      document.getElementById('modalTitle').textContent = 'Contact Submission';
      document.getElementById('modalBody').innerHTML = `
        <div style="display:grid;gap:18px">
          <div><strong style="color:var(--text-muted);font-size:.82rem;text-transform:uppercase;letter-spacing:.05em">Date</strong><br><span style="color:var(--text)">${new Date(s.date).toLocaleString()}</span></div>
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px">
            <div><strong style="color:var(--text-muted);font-size:.82rem;text-transform:uppercase;letter-spacing:.05em">Name</strong><br><span style="color:var(--text)">${s.name}</span></div>
            <div><strong style="color:var(--text-muted);font-size:.82rem;text-transform:uppercase;letter-spacing:.05em">Phone</strong><br><span style="color:var(--text)">${s.phone}</span></div>
          </div>
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px">
            <div><strong style="color:var(--text-muted);font-size:.82rem;text-transform:uppercase;letter-spacing:.05em">Email</strong><br><span style="color:var(--text)">${s.email}</span></div>
            <div><strong style="color:var(--text-muted);font-size:.82rem;text-transform:uppercase;letter-spacing:.05em">Contact Method</strong><br><span style="color:var(--text)">${s.contactMethod}</span></div>
          </div>
          <div><strong style="color:var(--text-muted);font-size:.82rem;text-transform:uppercase;letter-spacing:.05em">Reason</strong><br><span style="color:var(--text)">${s.reason}</span></div>
          <div><strong style="color:var(--text-muted);font-size:.82rem;text-transform:uppercase;letter-spacing:.05em">Message</strong><br>
            <p style="margin-top:8px;padding:18px;background:var(--bg-alt);border-radius:var(--radius-sm);line-height:1.75;color:var(--text-secondary);border:1px solid var(--border-light)">${s.message || 'No message provided.'}</p>
          </div>
          <div><strong style="color:var(--text-muted);font-size:.82rem;text-transform:uppercase;letter-spacing:.05em">Status</strong><br>
            <span class="badge ${s.status === 'new' ? 'badge-warning' : 'badge-success'}" style="margin-top:6px">${s.status === 'new' ? 'New' : 'Reviewed'}</span>
          </div>
        </div>
      `;
      document.getElementById('modalFooter').innerHTML = `
        <button class="btn btn-outline btn-sm" onclick="closeModal()">Close</button>
        <button class="btn btn-primary btn-sm" onclick="markReviewed(${s.id});closeModal()">Mark Reviewed</button>
      `;
      document.getElementById('modalOverlay').classList.add('open');
    }

    function markReviewed(id) {
      let submissions = JSON.parse(localStorage.getItem('contactSubmissions') || '[]');
      submissions = submissions.map(s => s.id === id ? { ...s, status: 'reviewed' } : s);
      localStorage.setItem('contactSubmissions', JSON.stringify(submissions));
      showToast('âœ… Marked as reviewed');
      showAdminSection('dashboard');
    }

    function deleteSubmission(id) {
      if (!confirm('Delete this submission?')) return;
      let submissions = JSON.parse(localStorage.getItem('contactSubmissions') || '[]');
      submissions = submissions.filter(s => s.id !== id);
      localStorage.setItem('contactSubmissions', JSON.stringify(submissions));
      showToast('ðŸ—‘ï¸ Submission deleted');
      showAdminSection('dashboard');
    }

    // ---- Admin Profile ----
    function renderAdminProfile(content, title) {
      title.textContent = 'Surgeon Profile';
      const s = siteData.surgeon;

      content.innerHTML = `
        <div class="admin-card">
          <h3>ðŸ‘¤ Basic Information</h3>
          <div class="admin-form">
            <div class="form-row">
              <div class="form-group"><label>Full Name</label><input type="text" id="prof-name" value="${s.name}"></div>
              <div class="form-group"><label>Initials</label><input type="text" id="prof-initials" value="${s.initials}"></div>
            </div>
            <div class="form-row">
              <div class="form-group"><label>Title</label><input type="text" id="prof-title" value="${s.title}"></div>
              <div class="form-group"><label>Subtitle</label><input type="text" id="prof-subtitle" value="${s.subtitle}"></div>
            </div>
            <div class="form-group"><label>Tagline</label><input type="text" id="prof-tagline" value="${s.tagline}"></div>
            <div class="form-row">
              <div class="form-group"><label>Phone</label><input type="text" id="prof-phone" value="${s.phone}"></div>
              <div class="form-group"><label>Email</label><input type="text" id="prof-email" value="${s.email}"></div>
            </div>
            <div class="form-group"><label>Address</label><textarea id="prof-address" rows="3">${s.address}</textarea></div>
            <div class="form-row">
              <div class="form-group"><label>Years Experience</label><input type="text" id="prof-years" value="${s.yearsExp}"></div>
              <div class="form-group"><label>Procedures Count</label><input type="text" id="prof-procedures" value="${s.procedures}"></div>
            </div>
            <div class="form-row">
              <div class="form-group"><label>Satisfaction Rate</label><input type="text" id="prof-satisfaction" value="${s.satisfaction}"></div>
              <div class="form-group"><label>Cert Status</label><input type="text" id="prof-cert" value="${s.certStatus}"></div>
            </div>
            <button class="btn btn-primary" onclick="saveProfile()" style="margin-top:8px">ðŸ’¾ Save Profile</button>
          </div>
        </div>

        <div class="admin-card">
          <h3>ðŸŽ“ Education Timeline</h3>
          <div style="overflow-x:auto">
          <table class="admin-table">
            <thead><tr><th>Years</th><th>Title</th><th>Institution</th><th>Actions</th></tr></thead>
            <tbody>
              ${siteData.timeline.map((t, i) => `
                <tr>
                  <td><strong>${t.year}</strong></td>
                  <td>${t.title}</td>
                  <td style="max-width:250px;font-size:.85rem;color:var(--text-secondary)">${t.subtitle}</td>
                  <td class="actions">
                    <button class="edit" onclick="editTimeline(${i})">Edit</button>
                    <button class="delete" onclick="deleteTimeline(${i})">Del</button>
                  </td>
                </tr>
              `).join('')}
            </tbody>
          </table>
          </div>
          <button class="btn btn-outline btn-sm" style="margin-top:16px" onclick="addTimeline()">+ Add Entry</button>
        </div>

        <div class="admin-card">
          <h3>ðŸ† Awards & Recognition</h3>
          <div style="overflow-x:auto">
          <table class="admin-table">
            <thead><tr><th>Year</th><th>Award</th><th>Actions</th></tr></thead>
            <tbody>
              ${siteData.awards.map((a, i) => `
                <tr>
                  <td><strong>${a.year}</strong></td>
                  <td>${a.title}</td>
                  <td class="actions">
                    <button class="edit" onclick="editAward(${i})">Edit</button>
                    <button class="delete" onclick="deleteAward(${i})">Del</button>
                  </td>
                </tr>
              `).join('')}
            </tbody>
          </table>
          </div>
          <button class="btn btn-outline btn-sm" style="margin-top:16px" onclick="addAward()">+ Add Award</button>
        </div>

        <div class="admin-card">
          <h3>ðŸ“œ Certifications</h3>
          ${siteData.certifications.map((c, i) => `
            <div style="display:flex;align-items:center;justify-content:space-between;padding:12px 18px;margin-bottom:8px;background:var(--bg-alt);border-radius:var(--radius-sm);border:1px solid var(--border-light)">
              <span style="font-size:.88rem;color:var(--text)">${c}</span>
              <div class="actions">
                <button class="edit" onclick="editCertification(${i})">Edit</button>
                <button class="delete" onclick="deleteCertification(${i})">Del</button>
              </div>
            </div>
          `).join('')}
          <button class="btn btn-outline btn-sm" style="margin-top:12px" onclick="addCertification()">+ Add</button>
        </div>

        <div class="admin-card">
          <h3>ðŸ›ï¸ Professional Memberships</h3>
          ${siteData.memberships.map((m, i) => `
            <div style="display:flex;align-items:center;justify-content:space-between;padding:12px 18px;margin-bottom:8px;background:var(--bg-alt);border-radius:var(--radius-sm);border:1px solid var(--border-light)">
              <span style="font-size:.88rem;color:var(--text)">${m}</span>
              <div class="actions">
                <button class="edit" onclick="editMembership(${i})">Edit</button>
                <button class="delete" onclick="deleteMembership(${i})">Del</button>
              </div>
            </div>
          `).join('')}
          <button class="btn btn-outline btn-sm" style="margin-top:12px" onclick="addMembership()">+ Add</button>
        </div>
      `;
    }

    function saveProfile() {
      siteData.surgeon.name = document.getElementById('prof-name').value;
      siteData.surgeon.initials = document.getElementById('prof-initials').value;
      siteData.surgeon.title = document.getElementById('prof-title').value;
      siteData.surgeon.subtitle = document.getElementById('prof-subtitle').value;
      siteData.surgeon.tagline = document.getElementById('prof-tagline').value;
      siteData.surgeon.phone = document.getElementById('prof-phone').value;
      siteData.surgeon.email = document.getElementById('prof-email').value;
      siteData.surgeon.address = document.getElementById('prof-address').value;
      siteData.surgeon.yearsExp = document.getElementById('prof-years').value;
      siteData.surgeon.procedures = document.getElementById('prof-procedures').value;
      siteData.surgeon.satisfaction = document.getElementById('prof-satisfaction').value;
      siteData.surgeon.certStatus = document.getElementById('prof-cert').value;
      saveData(siteData);
      renderAll();
      showToast('âœ… Profile saved successfully!');
    }

    // Timeline CRUD
    function editTimeline(i) {
      const t = siteData.timeline[i];
      openItemModal('Edit Education Entry', [
        { label: 'Years', id: 'tl-year', value: t.year },
        { label: 'Title', id: 'tl-title', value: t.title },
        { label: 'Institution/Details', id: 'tl-subtitle', value: t.subtitle, type: 'textarea' }
      ], () => {
        siteData.timeline[i] = { year: document.getElementById('tl-year').value, title: document.getElementById('tl-title').value, subtitle: document.getElementById('tl-subtitle').value };
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Updated'); showAdminSection('profile');
      });
    }

    function addTimeline() {
      openItemModal('Add Education Entry', [
        { label: 'Years', id: 'tl-year', value: '' },
        { label: 'Title', id: 'tl-title', value: '' },
        { label: 'Institution/Details', id: 'tl-subtitle', value: '', type: 'textarea' }
      ], () => {
        siteData.timeline.push({ year: document.getElementById('tl-year').value, title: document.getElementById('tl-title').value, subtitle: document.getElementById('tl-subtitle').value });
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Added'); showAdminSection('profile');
      });
    }

    function deleteTimeline(i) {
      if (!confirm('Delete?')) return;
      siteData.timeline.splice(i, 1); saveData(siteData); renderAll(); showToast('ðŸ—‘ï¸ Deleted'); showAdminSection('profile');
    }

    // Award CRUD
    function editAward(i) {
      const a = siteData.awards[i];
      openItemModal('Edit Award', [
        { label: 'Year', id: 'aw-year', value: a.year },
        { label: 'Title', id: 'aw-title', value: a.title }
      ], () => {
        siteData.awards[i] = { year: document.getElementById('aw-year').value, title: document.getElementById('aw-title').value };
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Updated'); showAdminSection('profile');
      });
    }

    function addAward() {
      openItemModal('Add Award', [
        { label: 'Year', id: 'aw-year', value: '' },
        { label: 'Title', id: 'aw-title', value: '' }
      ], () => {
        siteData.awards.push({ year: document.getElementById('aw-year').value, title: document.getElementById('aw-title').value });
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Added'); showAdminSection('profile');
      });
    }

    function deleteAward(i) {
      if (!confirm('Delete?')) return;
      siteData.awards.splice(i, 1); saveData(siteData); renderAll(); showToast('ðŸ—‘ï¸ Deleted'); showAdminSection('profile');
    }

    // Certification CRUD
    function editCertification(i) {
      openItemModal('Edit Certification', [{ label: 'Certification', id: 'cert-val', value: siteData.certifications[i], type: 'textarea' }], () => {
        siteData.certifications[i] = document.getElementById('cert-val').value;
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Updated'); showAdminSection('profile');
      });
    }
    function addCertification() {
      openItemModal('Add Certification', [{ label: 'Certification', id: 'cert-val', value: '', type: 'textarea' }], () => {
        siteData.certifications.push(document.getElementById('cert-val').value);
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Added'); showAdminSection('profile');
      });
    }
    function deleteCertification(i) {
      if (!confirm('Delete?')) return;
      siteData.certifications.splice(i, 1); saveData(siteData); renderAll(); showToast('ðŸ—‘ï¸ Deleted'); showAdminSection('profile');
    }

    // Membership CRUD
    function editMembership(i) {
      openItemModal('Edit Membership', [{ label: 'Membership', id: 'mem-val', value: siteData.memberships[i], type: 'textarea' }], () => {
        siteData.memberships[i] = document.getElementById('mem-val').value;
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Updated'); showAdminSection('profile');
      });
    }
    function addMembership() {
      openItemModal('Add Membership', [{ label: 'Membership', id: 'mem-val', value: '', type: 'textarea' }], () => {
        siteData.memberships.push(document.getElementById('mem-val').value);
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Added'); showAdminSection('profile');
      });
    }
    function deleteMembership(i) {
      if (!confirm('Delete?')) return;
      siteData.memberships.splice(i, 1); saveData(siteData); renderAll(); showToast('ðŸ—‘ï¸ Deleted'); showAdminSection('profile');
    }

    // ---- Admin Services ----
    function renderAdminServices(content, title) {
      title.textContent = 'Manage Services';
      content.innerHTML = `
        <div class="admin-card">
          <h3>ðŸ¥ Services (${siteData.services.length})</h3>
          <div style="overflow-x:auto">
          <table class="admin-table">
            <thead><tr><th>Icon</th><th>Service</th><th>Items</th><th>Actions</th></tr></thead>
            <tbody>
              ${siteData.services.map((s, i) => `
                <tr>
                  <td style="font-size:1.5rem">${s.icon}</td>
                  <td><strong>${s.title}</strong><br><span style="font-size:.78rem;color:var(--text-secondary)">${s.desc.substring(0, 70)}...</span></td>
                  <td><span class="badge badge-primary">${s.details ? s.details.length : 0}</span></td>
                  <td class="actions">
                    <button class="edit" onclick="editService(${i})">Edit</button>
                    <button class="delete" onclick="deleteService(${i})">Del</button>
                  </td>
                </tr>
              `).join('')}
            </tbody>
          </table>
          </div>
          <button class="btn btn-primary btn-sm" style="margin-top:16px" onclick="addService()">+ Add Service</button>
        </div>

        <div class="admin-card">
          <h3>ðŸ”¬ Technology (${siteData.technology.length})</h3>
          <div style="overflow-x:auto">
          <table class="admin-table">
            <thead><tr><th>Icon</th><th>Tech</th><th>Desc</th><th>Actions</th></tr></thead>
            <tbody>
              ${siteData.technology.map((t, i) => `
                <tr>
                  <td style="font-size:1.5rem">${t.icon}</td>
                  <td><strong>${t.title}</strong></td>
                  <td style="font-size:.82rem;color:var(--text-secondary);max-width:280px">${t.desc}</td>
                  <td class="actions">
                    <button class="edit" onclick="editTech(${i})">Edit</button>
                    <button class="delete" onclick="deleteTech(${i})">Del</button>
                  </td>
                </tr>
              `).join('')}
            </tbody>
          </table>
          </div>
          <button class="btn btn-outline btn-sm" style="margin-top:16px" onclick="addTech()">+ Add</button>
        </div>

        <div class="admin-card">
          <h3>âœ¨ Specialties (${siteData.specialties.length})</h3>
          <div style="overflow-x:auto">
          <table class="admin-table">
            <thead><tr><th>Icon</th><th>Specialty</th><th>Actions</th></tr></thead>
            <tbody>
              ${siteData.specialties.map((s, i) => `
                <tr>
                  <td style="font-size:1.5rem">${s.icon}</td>
                  <td><strong>${s.title}</strong><br><span style="font-size:.78rem;color:var(--text-secondary)">${s.desc.substring(0, 70)}...</span></td>
                  <td class="actions">
                    <button class="edit" onclick="editSpecialty(${i})">Edit</button>
                    <button class="delete" onclick="deleteSpecialty(${i})">Del</button>
                  </td>
                </tr>
              `).join('')}
            </tbody>
          </table>
          </div>
          <button class="btn btn-outline btn-sm" style="margin-top:16px" onclick="addSpecialty()">+ Add</button>
        </div>

        <div class="admin-card">
          <h3>ðŸ’¡ Why Choose (${siteData.whyChoose.length})</h3>
          <div style="overflow-x:auto">
          <table class="admin-table">
            <thead><tr><th>Icon</th><th>Item</th><th>Actions</th></tr></thead>
            <tbody>
              ${siteData.whyChoose.map((w, i) => `
                <tr>
                  <td style="font-size:1.5rem">${w.icon}</td>
                  <td><strong>${w.title}</strong><br><span style="font-size:.78rem;color:var(--text-secondary)">${w.desc.substring(0, 70)}...</span></td>
                  <td class="actions">
                    <button class="edit" onclick="editWhyChoose(${i})">Edit</button>
                    <button class="delete" onclick="deleteWhyChoose(${i})">Del</button>
                  </td>
                </tr>
              `).join('')}
            </tbody>
          </table>
          </div>
          <button class="btn btn-outline btn-sm" style="margin-top:16px" onclick="addWhyChoose()">+ Add</button>
        </div>
      `;
    }

    // Service CRUD
    function editService(i) {
      const s = siteData.services[i];
      openItemModal('Edit Service', [
        { label: 'Icon (emoji)', id: 'svc-icon', value: s.icon },
        { label: 'Title', id: 'svc-title', value: s.title },
        { label: 'Description', id: 'svc-desc', value: s.desc, type: 'textarea' },
        { label: 'Procedures (comma-separated)', id: 'svc-details', value: s.details ? s.details.join(', ') : '', type: 'textarea' }
      ], () => {
        siteData.services[i] = { icon: document.getElementById('svc-icon').value, title: document.getElementById('svc-title').value, desc: document.getElementById('svc-desc').value, details: document.getElementById('svc-details').value.split(',').map(d => d.trim()).filter(d => d) };
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Updated'); showAdminSection('services-admin');
      });
    }
    function addService() {
      openItemModal('Add Service', [
        { label: 'Icon (emoji)', id: 'svc-icon', value: 'ðŸ¥' },
        { label: 'Title', id: 'svc-title', value: '' },
        { label: 'Description', id: 'svc-desc', value: '', type: 'textarea' },
        { label: 'Procedures (comma-separated)', id: 'svc-details', value: '', type: 'textarea' }
      ], () => {
        siteData.services.push({ icon: document.getElementById('svc-icon').value, title: document.getElementById('svc-title').value, desc: document.getElementById('svc-desc').value, details: document.getElementById('svc-details').value.split(',').map(d => d.trim()).filter(d => d) });
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Added'); showAdminSection('services-admin');
      });
    }
    function deleteService(i) { if (!confirm('Delete?')) return; siteData.services.splice(i, 1); saveData(siteData); renderAll(); showToast('ðŸ—‘ï¸ Deleted'); showAdminSection('services-admin'); }

    // Tech CRUD
    function editTech(i) {
      const t = siteData.technology[i];
      openItemModal('Edit Technology', [
        { label: 'Icon', id: 'tech-icon', value: t.icon },
        { label: 'Title', id: 'tech-title', value: t.title },
        { label: 'Description', id: 'tech-desc', value: t.desc, type: 'textarea' }
      ], () => {
        siteData.technology[i] = { icon: document.getElementById('tech-icon').value, title: document.getElementById('tech-title').value, desc: document.getElementById('tech-desc').value };
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Updated'); showAdminSection('services-admin');
      });
    }
    function addTech() {
      openItemModal('Add Technology', [
        { label: 'Icon', id: 'tech-icon', value: 'ðŸ”¬' },
        { label: 'Title', id: 'tech-title', value: '' },
        { label: 'Description', id: 'tech-desc', value: '', type: 'textarea' }
      ], () => {
        siteData.technology.push({ icon: document.getElementById('tech-icon').value, title: document.getElementById('tech-title').value, desc: document.getElementById('tech-desc').value });
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Added'); showAdminSection('services-admin');
      });
    }
    function deleteTech(i) { if (!confirm('Delete?')) return; siteData.technology.splice(i, 1); saveData(siteData); renderAll(); showToast('ðŸ—‘ï¸ Deleted'); showAdminSection('services-admin'); }

    // Specialty CRUD
    function editSpecialty(i) {
      const s = siteData.specialties[i];
      openItemModal('Edit Specialty', [
        { label: 'Icon', id: 'spec-icon', value: s.icon },
        { label: 'Title', id: 'spec-title', value: s.title },
        { label: 'Description', id: 'spec-desc', value: s.desc, type: 'textarea' }
      ], () => {
        siteData.specialties[i] = { icon: document.getElementById('spec-icon').value, title: document.getElementById('spec-title').value, desc: document.getElementById('spec-desc').value };
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Updated'); showAdminSection('services-admin');
      });
    }
    function addSpecialty() {
      openItemModal('Add Specialty', [
        { label: 'Icon', id: 'spec-icon', value: 'âš•ï¸' },
        { label: 'Title', id: 'spec-title', value: '' },
        { label: 'Description', id: 'spec-desc', value: '', type: 'textarea' }
      ], () => {
        siteData.specialties.push({ icon: document.getElementById('spec-icon').value, title: document.getElementById('spec-title').value, desc: document.getElementById('spec-desc').value });
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Added'); showAdminSection('services-admin');
      });
    }
    function deleteSpecialty(i) { if (!confirm('Delete?')) return; siteData.specialties.splice(i, 1); saveData(siteData); renderAll(); showToast('ðŸ—‘ï¸ Deleted'); showAdminSection('services-admin'); }

    // Why Choose CRUD
    function editWhyChoose(i) {
      const w = siteData.whyChoose[i];
      openItemModal('Edit Item', [
        { label: 'Icon', id: 'why-icon', value: w.icon },
        { label: 'Title', id: 'why-title', value: w.title },
        { label: 'Description', id: 'why-desc', value: w.desc, type: 'textarea' }
      ], () => {
        siteData.whyChoose[i] = { icon: document.getElementById('why-icon').value, title: document.getElementById('why-title').value, desc: document.getElementById('why-desc').value };
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Updated'); showAdminSection('services-admin');
      });
    }
    function addWhyChoose() {
      openItemModal('Add Item', [
        { label: 'Icon', id: 'why-icon', value: 'âœ¨' },
        { label: 'Title', id: 'why-title', value: '' },
        { label: 'Description', id: 'why-desc', value: '', type: 'textarea' }
      ], () => {
        siteData.whyChoose.push({ icon: document.getElementById('why-icon').value, title: document.getElementById('why-title').value, desc: document.getElementById('why-desc').value });
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Added'); showAdminSection('services-admin');
      });
    }
    function deleteWhyChoose(i) { if (!confirm('Delete?')) return; siteData.whyChoose.splice(i, 1); saveData(siteData); renderAll(); showToast('ðŸ—‘ï¸ Deleted'); showAdminSection('services-admin'); }

    // ---- Admin Testimonials ----
    function renderAdminTestimonials(content, title) {
      title.textContent = 'Manage Testimonials';
      content.innerHTML = `
        <div class="admin-card">
          <h3>â­ Testimonials (${siteData.testimonials.length})</h3>
          <div style="overflow-x:auto">
          <table class="admin-table">
            <thead><tr><th>Patient</th><th>Rating</th><th>Condition</th><th>Verified</th><th>Actions</th></tr></thead>
            <tbody>
              ${siteData.testimonials.map((t, i) => `
                <tr>
                  <td><div style="display:flex;align-items:center;gap:10px"><div class="testimonial-avatar" style="width:34px;height:34px;font-size:.72rem">${t.initials}</div><strong>${t.name}</strong></div></td>
                  <td style="color:var(--warning);letter-spacing:2px">${'â˜…'.repeat(t.rating)}${'â˜†'.repeat(5 - t.rating)}</td>
                  <td><span class="badge badge-primary">${t.condition}</span></td>
                  <td>${t.verified ? '<span class="badge badge-success">âœ“</span>' : '<span class="badge badge-warning">â€”</span>'}</td>
                  <td class="actions">
                    <button class="edit" onclick="editTestimonial(${i})">Edit</button>
                    <button class="delete" onclick="deleteTestimonial(${i})">Del</button>
                  </td>
                </tr>
              `).join('')}
            </tbody>
          </table>
          </div>
          <button class="btn btn-primary btn-sm" style="margin-top:16px" onclick="addTestimonial()">+ Add Testimonial</button>
        </div>
      `;
    }

    function editTestimonial(i) {
      const t = siteData.testimonials[i];
      openItemModal('Edit Testimonial', [
        { label: 'Name', id: 'test-name', value: t.name },
        { label: 'Initials', id: 'test-initials', value: t.initials },
        { label: 'Rating (1-5)', id: 'test-rating', value: t.rating, type: 'number' },
        { label: 'Condition', id: 'test-condition', value: t.condition },
        { label: 'Text', id: 'test-text', value: t.text, type: 'textarea' },
        { label: 'Verified', id: 'test-verified', value: t.verified, type: 'checkbox' }
      ], () => {
        siteData.testimonials[i] = { name: document.getElementById('test-name').value, initials: document.getElementById('test-initials').value, rating: parseInt(document.getElementById('test-rating').value) || 5, condition: document.getElementById('test-condition').value, text: document.getElementById('test-text').value, verified: document.getElementById('test-verified').checked };
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Updated'); showAdminSection('testimonials-admin');
      });
    }

    function addTestimonial() {
      openItemModal('Add Testimonial', [
        { label: 'Name', id: 'test-name', value: '' },
        { label: 'Initials', id: 'test-initials', value: '' },
        { label: 'Rating (1-5)', id: 'test-rating', value: '5', type: 'number' },
        { label: 'Condition', id: 'test-condition', value: '' },
        { label: 'Text', id: 'test-text', value: '', type: 'textarea' },
        { label: 'Verified', id: 'test-verified', value: true, type: 'checkbox' }
      ], () => {
        siteData.testimonials.push({ name: document.getElementById('test-name').value, initials: document.getElementById('test-initials').value, rating: parseInt(document.getElementById('test-rating').value) || 5, condition: document.getElementById('test-condition').value, text: document.getElementById('test-text').value, verified: document.getElementById('test-verified').checked });
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Added'); showAdminSection('testimonials-admin');
      });
    }

    function deleteTestimonial(i) { if (!confirm('Delete?')) return; siteData.testimonials.splice(i, 1); saveData(siteData); renderAll(); showToast('ðŸ—‘ï¸ Deleted'); showAdminSection('testimonials-admin'); }

    // ---- Admin Results ----
    function renderAdminResults(content, title) {
      title.textContent = 'Manage Case Results';
      content.innerHTML = `
        <div class="admin-card">
          <h3>ðŸ“ˆ Case Results (${siteData.caseResults.length})</h3>
          <div style="overflow-x:auto">
          <table class="admin-table">
            <thead><tr><th>Condition</th><th>Patient</th><th>Treatment</th><th>Actions</th></tr></thead>
            <tbody>
              ${siteData.caseResults.map((r, i) => `
                <tr>
                  <td><strong>${r.condition}</strong></td>
                  <td style="font-size:.82rem;color:var(--text-secondary)">${r.age}</td>
                  <td><span class="badge badge-primary" style="font-size:.72rem">${r.treatment.substring(0, 35)}...</span></td>
                  <td class="actions">
                    <button class="edit" onclick="editResult(${i})">Edit</button>
                    <button class="delete" onclick="deleteResult(${i})">Del</button>
                  </td>
                </tr>
              `).join('')}
            </tbody>
          </table>
          </div>
          <button class="btn btn-primary btn-sm" style="margin-top:16px" onclick="addResult()">+ Add Result</button>
        </div>
      `;
    }

    function editResult(i) {
      const r = siteData.caseResults[i];
      openItemModal('Edit Case Result', [
        { label: 'Condition', id: 'res-condition', value: r.condition },
        { label: 'Patient', id: 'res-age', value: r.age },
        { label: 'Treatment', id: 'res-treatment', value: r.treatment },
        { label: 'Quote', id: 'res-quote', value: r.quote, type: 'textarea' },
        { label: 'Timeline', id: 'res-timeline', value: r.timeline }
      ], () => {
        siteData.caseResults[i] = { condition: document.getElementById('res-condition').value, age: document.getElementById('res-age').value, treatment: document.getElementById('res-treatment').value, quote: document.getElementById('res-quote').value, timeline: document.getElementById('res-timeline').value };
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Updated'); showAdminSection('results-admin');
      });
    }

    function addResult() {
      openItemModal('Add Case Result', [
        { label: 'Condition', id: 'res-condition', value: '' },
        { label: 'Patient', id: 'res-age', value: '' },
        { label: 'Treatment', id: 'res-treatment', value: '' },
        { label: 'Quote', id: 'res-quote', value: '', type: 'textarea' },
        { label: 'Timeline', id: 'res-timeline', value: '' }
      ], () => {
        siteData.caseResults.push({ condition: document.getElementById('res-condition').value, age: document.getElementById('res-age').value, treatment: document.getElementById('res-treatment').value, quote: document.getElementById('res-quote').value, timeline: document.getElementById('res-timeline').value });
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Added'); showAdminSection('results-admin');
      });
    }

    function deleteResult(i) { if (!confirm('Delete?')) return; siteData.caseResults.splice(i, 1); saveData(siteData); renderAll(); showToast('ðŸ—‘ï¸ Deleted'); showAdminSection('results-admin'); }

    // ---- Admin Articles ----
    function renderAdminArticles(content, title) {
      title.textContent = 'Manage Articles';
      content.innerHTML = `
        <div class="admin-card">
          <h3>ðŸ“ Articles (${siteData.articles.length})</h3>
          <div style="overflow-x:auto">
          <table class="admin-table">
            <thead><tr><th>Title</th><th>Category</th><th>Date</th><th>Actions</th></tr></thead>
            <tbody>
              ${siteData.articles.map((a, i) => `
                <tr>
                  <td><strong>${a.title}</strong></td>
                  <td><span class="badge badge-primary">${a.category}</span></td>
                  <td style="font-size:.82rem">${a.date}</td>
                  <td class="actions">
                    <button class="edit" onclick="editArticle(${i})">Edit</button>
                    <button class="delete" onclick="deleteArticle(${i})">Del</button>
                  </td>
                </tr>
              `).join('')}
            </tbody>
          </table>
          </div>
          <button class="btn btn-primary btn-sm" style="margin-top:16px" onclick="addArticle()">+ Add Article</button>
        </div>

        <div class="admin-card">
          <h3>ðŸ“‹ Patient Guides (${siteData.guides.length})</h3>
          <div style="overflow-x:auto">
          <table class="admin-table">
            <thead><tr><th>Icon</th><th>Guide</th><th>Actions</th></tr></thead>
            <tbody>
              ${siteData.guides.map((g, i) => `
                <tr>
                  <td style="font-size:1.5rem">${g.icon}</td>
                  <td><strong>${g.title}</strong></td>
                  <td class="actions">
                    <button class="edit" onclick="editGuide(${i})">Edit</button>
                    <button class="delete" onclick="deleteGuide(${i})">Del</button>
                  </td>
                </tr>
              `).join('')}
            </tbody>
          </table>
          </div>
          <button class="btn btn-outline btn-sm" style="margin-top:16px" onclick="addGuide()">+ Add Guide</button>
        </div>
      `;
    }

    function editArticle(i) {
      const a = siteData.articles[i];
      openItemModal('Edit Article', [
        { label: 'Title', id: 'art-title', value: a.title },
        { label: 'Category', id: 'art-category', value: a.category },
        { label: 'Read Time', id: 'art-readtime', value: a.readTime },
        { label: 'Date', id: 'art-date', value: a.date },
        { label: 'Excerpt', id: 'art-excerpt', value: a.excerpt, type: 'textarea' }
      ], () => {
        siteData.articles[i] = { title: document.getElementById('art-title').value, category: document.getElementById('art-category').value, readTime: document.getElementById('art-readtime').value, date: document.getElementById('art-date').value, excerpt: document.getElementById('art-excerpt').value };
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Updated'); showAdminSection('articles-admin');
      });
    }

    function addArticle() {
      openItemModal('Add Article', [
        { label: 'Title', id: 'art-title', value: '' },
        { label: 'Category', id: 'art-category', value: '' },
        { label: 'Read Time', id: 'art-readtime', value: '5 min' },
        { label: 'Date', id: 'art-date', value: new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' }) },
        { label: 'Excerpt', id: 'art-excerpt', value: '', type: 'textarea' }
      ], () => {
        siteData.articles.push({ title: document.getElementById('art-title').value, category: document.getElementById('art-category').value, readTime: document.getElementById('art-readtime').value, date: document.getElementById('art-date').value, excerpt: document.getElementById('art-excerpt').value });
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Added'); showAdminSection('articles-admin');
      });
    }

    function deleteArticle(i) { if (!confirm('Delete?')) return; siteData.articles.splice(i, 1); saveData(siteData); renderAll(); showToast('ðŸ—‘ï¸ Deleted'); showAdminSection('articles-admin'); }

    // Guide CRUD
    function editGuide(i) {
      const g = siteData.guides[i];
      openItemModal('Edit Guide', [
        { label: 'Icon', id: 'guide-icon', value: g.icon },
        { label: 'Title', id: 'guide-title', value: g.title },
        { label: 'Description', id: 'guide-desc', value: g.desc, type: 'textarea' }
      ], () => {
        siteData.guides[i] = { icon: document.getElementById('guide-icon').value, title: document.getElementById('guide-title').value, desc: document.getElementById('guide-desc').value };
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Updated'); showAdminSection('articles-admin');
      });
    }

    function addGuide() {
      openItemModal('Add Guide', [
        { label: 'Icon', id: 'guide-icon', value: 'ðŸ“„' },
        { label: 'Title', id: 'guide-title', value: '' },
        { label: 'Description', id: 'guide-desc', value: '', type: 'textarea' }
      ], () => {
        siteData.guides.push({ icon: document.getElementById('guide-icon').value, title: document.getElementById('guide-title').value, desc: document.getElementById('guide-desc').value });
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Added'); showAdminSection('articles-admin');
      });
    }

    function deleteGuide(i) { if (!confirm('Delete?')) return; siteData.guides.splice(i, 1); saveData(siteData); renderAll(); showToast('ðŸ—‘ï¸ Deleted'); showAdminSection('articles-admin'); }

    // ---- Admin FAQs ----
    function renderAdminFAQs(content, title) {
      title.textContent = 'Manage FAQs';
      content.innerHTML = `
        <div class="admin-card">
          <h3>â“ FAQs (${siteData.faqs.length})</h3>
          <div style="overflow-x:auto">
          <table class="admin-table">
            <thead><tr><th>#</th><th>Question</th><th>Actions</th></tr></thead>
            <tbody>
              ${siteData.faqs.map((f, i) => `
                <tr>
                  <td style="font-weight:700;color:var(--primary)">${i + 1}</td>
                  <td><strong style="display:block;margin-bottom:4px">${f.q}</strong><span style="font-size:.78rem;color:var(--text-secondary)">${f.a.substring(0, 90)}...</span></td>
                  <td class="actions">
                    <button class="edit" onclick="editFaq(${i})">Edit</button>
                    <button class="delete" onclick="deleteFaq(${i})">Del</button>
                  </td>
                </tr>
              `).join('')}
            </tbody>
          </table>
          </div>
          <button class="btn btn-primary btn-sm" style="margin-top:16px" onclick="addFaq()">+ Add FAQ</button>
        </div>
      `;
    }

    function editFaq(i) {
      const f = siteData.faqs[i];
      openItemModal('Edit FAQ', [
        { label: 'Question', id: 'faq-q', value: f.q },
        { label: 'Answer', id: 'faq-a', value: f.a, type: 'textarea' }
      ], () => {
        siteData.faqs[i] = { q: document.getElementById('faq-q').value, a: document.getElementById('faq-a').value };
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Updated'); showAdminSection('faq-admin');
      });
    }

    function addFaq() {
      openItemModal('Add FAQ', [
        { label: 'Question', id: 'faq-q', value: '' },
        { label: 'Answer', id: 'faq-a', value: '', type: 'textarea' }
      ], () => {
        siteData.faqs.push({ q: document.getElementById('faq-q').value, a: document.getElementById('faq-a').value });
        saveData(siteData); renderAll(); closeModal(); showToast('âœ… Added'); showAdminSection('faq-admin');
      });
    }

    function deleteFaq(i) { if (!confirm('Delete?')) return; siteData.faqs.splice(i, 1); saveData(siteData); renderAll(); showToast('ðŸ—‘ï¸ Deleted'); showAdminSection('faq-admin'); }

    // ---- Admin Settings ----
    function renderAdminSettings(content, title) {
      title.textContent = 'Site Settings';
      const s = siteData.settings;

      content.innerHTML = `
        <div class="admin-card">
          <h3>ðŸŽ¨ Appearance</h3>
          <div class="admin-form">
            <div class="form-row">
              <div class="form-group"><label>Primary Color</label><input type="color" id="set-color" value="${s.primaryColor}" style="height:50px;padding:4px;cursor:pointer"></div>
              <div class="form-group"><label>Site Name</label><input type="text" id="set-sitename" value="${s.siteName}"></div>
            </div>
            <button class="btn btn-primary" onclick="saveSettings()">ðŸ’¾ Save Appearance</button>
          </div>
        </div>

        <div class="admin-card">
          <h3>ðŸŽ¬ Hero Animation</h3>
          <div class="admin-form">
            <div class="form-row">
              <div class="form-group"><label>Frame Count</label><input type="number" id="set-frames" value="${s.heroFrameCount}"></div>
              <div class="form-group"><label>Frame Folder</label><input type="text" id="set-folder" value="${s.heroFrameFolder}"></div>
            </div>
            <div class="form-row">
              <div class="form-group"><label>Frame Prefix</label><input type="text" id="set-prefix" value="${s.heroFramePrefix}"></div>
              <div class="form-group"><label>Extension</label>
                <select id="set-ext">
                  <option ${s.heroFrameExtension === 'png' ? 'selected' : ''}>png</option>
                  <option ${s.heroFrameExtension === 'jpg' ? 'selected' : ''}>jpg</option>
                  <option ${s.heroFrameExtension === 'webp' ? 'selected' : ''}>webp</option>
                </select>
              </div>
            </div>
            <p style="font-size:.78rem;color:var(--text-muted);margin-bottom:16px">ðŸ“ Frame path: <code style="background:var(--bg-alt);padding:3px 10px;border-radius:6px;font-size:.75rem;border:1px solid var(--border-light)">${s.heroFrameFolder}/${s.heroFramePrefix}001.${s.heroFrameExtension}</code></p>
            <button class="btn btn-primary" onclick="saveSettings()">ðŸ’¾ Save Animation</button>
          </div>
        </div>

        <div class="admin-card">
          <h3>ðŸ’¾ Data Management</h3>
          <div style="display:flex;gap:12px;flex-wrap:wrap;margin-bottom:24px">
            <button class="btn btn-outline btn-sm" onclick="exportData()">ðŸ“¤ Export JSON</button>
            <button class="btn btn-outline btn-sm" onclick="document.getElementById('importFile').click()">ðŸ“¥ Import JSON</button>
            <input type="file" id="importFile" accept=".json" style="display:none" onchange="importData(event)">
            <button class="btn btn-sm" style="background:var(--warning);color:#fff" onclick="resetData()">ðŸ”„ Reset Defaults</button>
            <button class="btn btn-sm" style="background:var(--error);color:#fff" onclick="clearAllData()">ðŸ—‘ï¸ Clear All</button>
          </div>
          <div style="padding:18px;background:var(--bg-alt);border-radius:var(--radius-sm);font-size:.82rem;color:var(--text-secondary);border:1px solid var(--border-light)">
            <strong style="color:var(--text)">Storage:</strong> ${(new Blob([localStorage.getItem('orthoSiteData') || '']).size / 1024).toFixed(1)} KB &nbsp;|&nbsp;
            <strong style="color:var(--text)">Submissions:</strong> ${JSON.parse(localStorage.getItem('contactSubmissions') || '[]').length}
          </div>
        </div>
      `;
    }

    function saveSettings() {
      siteData.settings.primaryColor = document.getElementById('set-color').value;
      siteData.settings.siteName = document.getElementById('set-sitename').value;
      siteData.settings.heroFrameCount = parseInt(document.getElementById('set-frames').value) || 121;
      siteData.settings.heroFrameFolder = document.getElementById('set-folder').value;
      siteData.settings.heroFramePrefix = document.getElementById('set-prefix').value;
      siteData.settings.heroFrameExtension = document.getElementById('set-ext').value;
      saveData(siteData);
      showToast('âœ… Settings saved! Reload for full effect.');
    }

    function exportData() {
      const blob = new Blob([JSON.stringify(siteData, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `ortho-data-${new Date().toISOString().split('T')[0]}.json`;
      a.click();
      URL.revokeObjectURL(url);
      showToast('ðŸ“¤ Data exported!');
    }

    function importData(event) {
      const file = event.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = (e) => {
        try {
          const imported = JSON.parse(e.target.result);
          if (imported.surgeon && imported.services) {
            siteData = imported;
            saveData(siteData);
            renderAll();
            showToast('ðŸ“¥ Data imported!');
            showAdminSection('dashboard');
          } else {
            showToast('âŒ Invalid format');
          }
        } catch (err) {
          showToast('âŒ Error parsing file');
        }
      };
      reader.readAsText(file);
      event.target.value = '';
    }

    function resetData() {
      if (!confirm('Reset ALL content to defaults? Cannot be undone.')) return;
      siteData = JSON.parse(JSON.stringify(defaultData));
      saveData(siteData);
      renderAll();
      showToast('ðŸ”„ Reset to defaults');
      showAdminSection('dashboard');
    }

    function clearAllData() {
      if (!confirm('PERMANENTLY DELETE all data? Cannot be undone!')) return;
      localStorage.removeItem('orthoSiteData');
      localStorage.removeItem('contactSubmissions');
      siteData = JSON.parse(JSON.stringify(defaultData));
      saveData(siteData);
      renderAll();
      showToast('ðŸ—‘ï¸ All data cleared');
      showAdminSection('dashboard');
    }

    // ========================================
    // MODAL HELPER
    // ========================================
    function openItemModal(titleText, fields, onSave) {
      document.getElementById('modalTitle').textContent = titleText;
      document.getElementById('modalBody').innerHTML = fields.map(f => {
        if (f.type === 'textarea') {
          return `<div class="form-group"><label>${f.label}</label><textarea id="${f.id}" rows="4">${f.value || ''}</textarea></div>`;
        } else if (f.type === 'number') {
          return `<div class="form-group"><label>${f.label}</label><input type="number" id="${f.id}" value="${f.value}" min="1" max="5"></div>`;
        } else if (f.type === 'checkbox') {
          return `<div class="form-group" style="display:flex;align-items:center;gap:12px;padding:8px 0">
            <input type="checkbox" id="${f.id}" ${f.value ? 'checked' : ''} style="width:20px;height:20px;accent-color:var(--primary);cursor:pointer">
            <label for="${f.id}" style="margin:0;cursor:pointer">${f.label}</label>
          </div>`;
        } else {
          return `<div class="form-group"><label>${f.label}</label><input type="text" id="${f.id}" value="${f.value || ''}"></div>`;
        }
      }).join('');

      document.getElementById('modalFooter').innerHTML = `
        <button class="btn btn-outline btn-sm" onclick="closeModal()">Cancel</button>
        <button class="btn btn-primary btn-sm" id="modalSaveBtn">Save Changes</button>
      `;

      document.getElementById('modalSaveBtn').onclick = onSave;
      document.getElementById('modalOverlay').classList.add('open');

      // Focus first input
      setTimeout(() => {
        const firstInput = document.querySelector('#modalBody input, #modalBody textarea');
        if (firstInput) firstInput.focus();
      }, 100);
    }

    function closeModal(event) {
      if (event && event.target !== event.currentTarget) return;
      document.getElementById('modalOverlay').classList.remove('open');
    }

    // ========================================
    // UPDATE DYNAMIC CONTENT
    // ========================================
    function updateHeroContent() {
      const s = siteData.surgeon;

      // Update stats on home page
      const s1 = document.getElementById('stat1');
      const s2 = document.getElementById('stat2');
      const s3 = document.getElementById('stat3');
      const s4 = document.getElementById('stat4');
      if (s1) s1.textContent = s.yearsExp;
      if (s2) s2.textContent = s.procedures;
      if (s3) s3.textContent = s.satisfaction;
      if (s4) s4.textContent = s.certStatus;

      // Update nav logo text
      document.querySelectorAll('.nav-logo span').forEach(el => {
        if (el.textContent !== 'MR' && !el.classList.contains('logo-icon')) {
          el.textContent = s.name;
        }
      });

      // Update logo initials
      document.querySelectorAll('.logo-icon').forEach(el => {
        el.textContent = s.initials;
      });

      // Update preloader initials
      const preloaderInitials = document.querySelector('.preloader-initials');
      if (preloaderInitials) preloaderInitials.textContent = s.initials;

      // Update nav phone
      const phone = document.querySelector('.nav-phone');
      if (phone) phone.innerHTML = `ðŸ“ž ${s.phone}`;

      // Update hero phase 1
      const phase1Title = document.querySelector('.phase-1 h1');
      if (phase1Title) phase1Title.textContent = s.name;

      const phase1Sub = document.querySelector('.phase-1 p');
      if (phase1Sub) phase1Sub.textContent = s.title;
    }

    // ========================================
    // SMOOTH COUNTER ANIMATION
    // ========================================
    function animateCounters() {
      const counters = document.querySelectorAll('.stat-number');
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting && !entry.target.dataset.animated) {
            entry.target.dataset.animated = 'true';

            const text = entry.target.textContent;
            const hasPlus = text.includes('+');
            const hasPercent = text.includes('%');
            const numMatch = text.match(/[\d.]+/);

            if (numMatch) {
              const target = parseFloat(numMatch[0]);
              const isDecimal = text.includes('.');
              let current = 0;
              const duration = 2000;
              const startTime = performance.now();

              function updateCounter(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const eased = 1 - Math.pow(1 - progress, 4); // ease-out quart

                current = target * eased;

                let display;
                if (isDecimal) {
                  display = current.toFixed(1);
                } else if (target >= 100) {
                  display = Math.round(current).toLocaleString();
                } else {
                  display = Math.round(current);
                }

                if (hasPlus) display += '+';
                if (hasPercent) display += '%';

                // Keep prefix like "Board" or "<"
                const prefix = text.match(/^[<>]|^[A-Za-z]+\s*/);
                if (prefix && !hasPlus && !hasPercent) {
                  entry.target.textContent = text; // Don't animate text-only stats
                  return;
                }

                entry.target.textContent = display;

                if (progress < 1) {
                  requestAnimationFrame(updateCounter);
                }
              }

              requestAnimationFrame(updateCounter);
            }
          }
        });
      }, { threshold: 0.3 });

      counters.forEach(c => observer.observe(c));
    }

    // ========================================
    // GSAP SCROLL ANIMATIONS FOR SECTIONS
    // ========================================
    function initGSAPAnimations() {
      // Only run if GSAP is loaded and we're on home page
      if (typeof gsap === 'undefined') return;

      // Parallax for banner images
      gsap.utils.toArray('section[style*="height"]').forEach(section => {
        const img = section.querySelector('img');
        if (img) {
          gsap.to(img, {
            y: 60,
            ease: "none",
            scrollTrigger: {
              trigger: section,
              start: "top bottom",
              end: "bottom top",
              scrub: true
            }
          });
        }
      });

      // Stagger cards entrance
      gsap.utils.toArray('.grid-3, .grid-4').forEach(grid => {
        const cards = grid.querySelectorAll('.card, .testimonial-card');
        if (cards.length > 0) {
          gsap.fromTo(cards, {
            y: 50,
            opacity: 0
          }, {
            y: 0,
            opacity: 1,
            stagger: 0.1,
            duration: 0.8,
            ease: "power3.out",
            scrollTrigger: {
              trigger: grid,
              start: "top 80%",
              once: true
            }
          });
        }
      });

      // Stats bar number animation
      gsap.utils.toArray('.stats-bar').forEach(bar => {
        gsap.fromTo(bar, {
          y: 30,
          opacity: 0
        }, {
          y: 0,
          opacity: 1,
          duration: 1,
          ease: "power3.out",
          scrollTrigger: {
            trigger: bar,
            start: "top 85%",
            once: true
          }
        });
      });
    }

    // ========================================
    // SMOOTH PAGE TRANSITIONS
    // ========================================
    function goToWithTransition(page) {
      const activePage = document.querySelector('.page.active');
      if (activePage) {
        activePage.style.opacity = '0';
        activePage.style.transform = 'translateY(20px)';
        activePage.style.transition = 'all 0.3s var(--ease-out)';

        setTimeout(() => {
          activePage.style.opacity = '';
          activePage.style.transform = '';
          activePage.style.transition = '';
          goTo(page);

          const newPage = document.querySelector('.page.active');
          if (newPage) {
            newPage.style.opacity = '0';
            newPage.style.transform = 'translateY(20px)';
            requestAnimationFrame(() => {
              newPage.style.transition = 'all 0.5s var(--ease-out)';
              newPage.style.opacity = '1';
              newPage.style.transform = 'translateY(0)';
              setTimeout(() => {
                newPage.style.opacity = '';
                newPage.style.transform = '';
                newPage.style.transition = '';
              }, 500);
            });
          }
        }, 300);
      } else {
        goTo(page);
      }
    }

    // ========================================
    // RENDER ALL
    // ========================================
    function renderAll() {
      updateHeroContent();
      renderSpecialties();
      renderWhyChoose();
      renderTestimonials();
      renderTimeline();
      renderCertifications();
      renderAwards();
      renderServices();
      renderTechnology();
      renderResults();
      renderArticles();
      renderFAQs();
      renderGuides();
      renderReviewSummary();
      renderAllReviews();

      // Re-trigger scroll reveals
      setTimeout(() => triggerReveals(), 200);
    }

    // ========================================
    // INITIALIZATION
    // ========================================
    document.addEventListener('DOMContentLoaded', () => {
      // Render all content
      renderAll();

      // Initialize hero animation
      new HeroAnimation();

      // Trigger scroll reveals
      triggerReveals();

      // Animate counters
      animateCounters();

      // Init GSAP scroll animations
      setTimeout(() => initGSAPAnimations(), 1000);

      // Initial nav check
      document.getElementById('mainNav').classList.toggle('scrolled', window.scrollY > 50);

      // Smooth floating button appearance
      const floatingCta = document.getElementById('floatingCta');
      if (floatingCta) {
        floatingCta.style.opacity = '0';
        floatingCta.style.transform = 'translateY(20px)';
        setTimeout(() => {
          floatingCta.style.transition = 'all 0.6s var(--ease-out)';
          floatingCta.style.opacity = '1';
          floatingCta.style.transform = 'translateY(0)';
        }, 2000);
      }

      // Add smooth hover sound effect class for cards
      document.querySelectorAll('.card, .testimonial-card, .faq-item, .timeline-item').forEach(el => {
        el.addEventListener('mouseenter', function () {
          this.style.transition = 'all 0.4s cubic-bezier(0.16, 1, 0.3, 1)';
        });
      });

      console.log('%cðŸ¦´ Dr. Moaz Saleem - Orthopedic Surgeon Portfolio', 'color: #B8860B; font-size: 16px; font-weight: bold;');
      console.log('%cAdmin: Press Ctrl+Shift+A or click âš™ï¸ button', 'color: #8896A7; font-size: 12px;');
    });

    // ========================================
    // KEYBOARD SHORTCUTS
    // ========================================
    document.addEventListener('keydown', (e) => {
      // ESC to close
      if (e.key === 'Escape') {
        if (document.getElementById('modalOverlay').classList.contains('open')) {
          closeModal();
        } else if (document.getElementById('adminOverlay').classList.contains('open')) {
          closeAdmin();
        } else if (document.getElementById('mobileNav').classList.contains('open')) {
          toggleMobileNav();
        }
      }

      // Ctrl+Shift+A for admin
      if (e.ctrlKey && e.shiftKey && e.key === 'A') {
        e.preventDefault();
        if (document.getElementById('adminOverlay').classList.contains('open')) {
          closeAdmin();
        } else {
          openAdmin();
        }
      }
    });

    // ========================================
    // SERVICE WORKER REGISTRATION (Optional)
    // ========================================
    if ('serviceWorker' in navigator) {
      // Uncomment to enable offline support
      // navigator.serviceWorker.register('/sw.js').catch(() => {});
    }

    // ========================================
    // PERFORMANCE MONITORING
    // ========================================
    window.addEventListener('load', () => {
      // Log performance metrics
      if (window.performance) {
        const timing = performance.getEntriesByType('navigation')[0];
        if (timing) {
          console.log(`%câš¡ Page loaded in ${Math.round(timing.loadEventEnd - timing.startTime)}ms`, 'color: #10B981; font-size: 11px;');
        }
      }
    });

  </script>
</body>

</html>